<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <meta http-equiv="CONTENT-TYPE"
 content="text/html; charset=windows-1252">
  <title>FPAC MINI-HOWTO Bernard Pidoux, F6BVP</title>
  <meta name="GENERATOR" content="OpenOffice.org 2.0  (Win32)">
  <meta name="CREATED" content="20060213;22041700">
  <meta name="CHANGEDBY" content="Bernard Pidoux">
  <meta name="CHANGED" content="20070915;14495429">
<!-- saved from url=(0039)http://rose.fpac.free.fr/MINI-HOWTO-FR/ -->
  <style>
	<!--
		H1 { color: #000000 }
		P { color: #000000 }
		H2 { color: #000000 }
	-->
	</style>
</head>
<body dir="ltr"
 style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"
 lang="en-US">
<h1>Linux FPAC mini-HOWTO</h1>
<h1>ou FPAC Linux mini mode d'emploi</h1>
<h2>Bernard Pidoux, F6BVP, <code>f6bvp at amsat dot org</code></h2>
<p style="margin-bottom: 0in;">V1.4.8, 29-septembre-2009</p>
<hr>
<p>Le paquet-radio est un moyen d'interconnecter des ordinateurs via
des stations radioamateurs. Ce mini mode d'emploi décrit
l'installation et la configuration d'un commutateur paquet-radio FPAC
(version 3.27) sous le système d'exploitation Linux avec un
noyau 2.6. Le lecteur sera guidé pas à pas dans le
processus de configuration d'un nodal FPAC ayant la capacité
de se connecter à d'autres nodaux via Internet. La
configuration des interfaces Radio sera laissée aux bons soins
de l'utilisateur. Si vous interfacez votre boîte Linux avec une
radio HF, FPAC assurera l'interconnexion entre réseaux
paquet-radio locaux et des stations nodales à distance selon
le protocole RadioAmateur <a
 href="http://www.linux-ax25.org/wiki/AX.25">AX.25</a> PLP (Packet
Layer Protocol, Protocol niveau réseau) <a
 href="http://www.linux-ax25.org/wiki/ROSE">ROSE</a> (RATS Open Systems
Environment, Environnement de systèmes ouverts du RATS). Un réseau de
nodaux
FPAC peut interconnecter de manière transparente plusieurs
applications telles qu'une station BBS pour le routage de messages et
de bulletins, des brêves DX, des connexions en mode terminal
utilisateur pour converser à distance etc.. Pour une description
complète
du logiciel FPAC, consultez le <a
 href="http://f5soh.free.fr/linux/fpac/doc/html/FPAC-HOWTO.html">FPAC
HOWTO-FR</a>. ou ce site <a
 href="http://f6bvp.free.fr/logiciels/rose-fpac/FPAC-HOWTO-FR/">miroir</a>.<br>
</p>
<hr>
<h2><a name="toc1"></a>1. <a href="#s1">Introduction</a></h2>
<h2><a name="toc2"></a>2. <a href="#s2">Comment configurer un noyau
2.6 Linux avec les modules AX25</a></h2>
<h2><a name="toc3"></a>3. <a href="#s3">Comment installer les
librairies AX25</a></h2>
<h2><a name="toc4"></a>4. <a href="#s4">Comment installer les outils
AX25</a></h2>
<h2><a name="toc5"></a>5. <a href="#s5">Comment installer les
applications AX25</a></h2>
<h2><a name="toc6"></a>6. <a href="#s6">Un script pour créer
divers répertoires et droits de fichiers</a></h2>
<h2><a name="toc7"></a>7. <a href="#s7">Comment configurer ax25ipd</a></h2>
<h2><a name="toc8"></a>8. <a href="#s8">Comment installer et
configurer FPAC 3.27</a></h2>
<h2><a name="toc9"></a>9. <a href="#s9">Scripts de lancement de
l'AX25</a></h2>
<h2><a name="toc10"></a>10.1 <a href="#s101">Configurer un routeur</a></h2>
<h2><a name="toc101"></a>10.2 <a href="#s102">Interfacer FPAC avec
des logiciels applicatifs</a></h2>
<h2><a name="toc11"></a>11. <a href="#s11">Autres modes d'emploi
HOWTO</a></h2>
<h2><a name="toc12"></a>12. <a href="#s12">Trouver de l'aide</a></h2>
<hr>
<h2><a name="s1"></a>1. Introduction</h2>
<p>FPAC pour Linux a été écrit par Jean-Paul
F6FBB d'après la première mouture de FPAC pour le système DOS et
codé en langage assembleur par Antoine F6DWJ avec la
collaboration de Rémy F6ABJ. FPAC est fondé sur le développement de
l' environnement de systèmes ouverts du RATS (ROSE) de la Société de
Télécommunications RadioAmateurs (Radio Amateur Telecommunication
society, RATS) par <a href="http://www.tapr.org/pub_cnc08.html">Thomas
A.
Moulton W2VY</a> en langage assembleur et "C" pour le Terminal
Node
Controler TNC2. Jean-Paul a écrit un <a
 href="http://f5soh.free.fr/linux/fpac/doc/html/FPAC-HOWTO.html">FPAC
HOWTO</a> que vous pouvez&nbsp; consulter utilement pour tout
savoir sur FPAC. <br>
</p>
<p>J'ai écrit ce document afin d'aider le lecteur à
mettre sur pied un nodal paquet-radioamateur depuis zéro
à partir de ma propre expérience avec une distribution Mandriva Linux. <span
 style="font-weight: bold;">Une première recommandation : </span>évitez
d'utiliser le matériel le plus récent, notamment au niveau de la carte
graphique ou de la carte mère car les pilotes Linux correspondants ne
seront peut-être pas disponibles. Les pilotes des cartes graphiques
nVidia sont propriétaires et pas disponibles dans les distributions
standards. Il peut en être de même pour les interfaces Ethernet ou son
inclues dans les cartes mères récentes. Sachez que Linux est très
économe en ressources système contrairement au système d'exploitation
payant le plus connu. C'est l'occasion de recycler un PC dont vos
enfants ou votre conjoint ne veut plus. Vous serez agréablement surpris
de la vitesse de démarrage de votre système Linux et ne reconnaîtrez
pas votre "vieux" PC.<br>
</p>
<p>Cela fait plus de dix ans
que je trafique en paquet-radio sous Linux avec des
distributions Mandriva (autrefois Mandrake). Au début, avec le noyau
2.2 (le
dernier disponible étant le 2.2.26) les applications AX25 étaient
remarquablement stable et vous pouviez laisser votre station
paquet-radio sans aucune intervention pendant des semaines.
Cependant, il existe plusieurs raisons pour lesquelles vous pouvez
souhaiter opter pour un noyau Linux plus récent. Par exemple
un meilleur support de l'interface USB, la gestion d'un disque dur
série SATA, le blue tooth ou un réseau local sans
fils. Du fait de profonds changements dans le code du noyau, l'AX25
était moins stable avec les noyaux 2.4 et les premiers
2.6. Bien que vous puissiez faire fonctionner l'AX25 avec un noyau
2.4, le système Linux pouvait devenir instable et même se
bloquer tôt ou tard.&nbsp;
Ralf DL5RB a repris l'adaptation de l'AX25 aux récents noyaux Linux,
restaurant la possibilité de faire fonctionner de manière plus stable
des applications AX25 radioamateurs. Le noyau le plus récent est le
meilleur. Vous pourrez trouver son numéro de version en recherchant
quelque chose comme LATEST-IS-2.6.31.1. sur
ftp://ftp.kernel.org/pub/linux/kernel/v2.6/ftp://ftp.kernel.org/pub/linux/kernel/v2.6/LATEST-IS-2.6.31.1<br>
</p>
<p>Dans la suite je vais décrire
pas à pas la manière de monter une station nodale
paquet-radio FPAC en prenant comme exemple une distribution Mandriva
Linux qui est considérée comme très
achevée et conviviale.</p>
<p>Les étapes couvertes par ce MINI HOWTO pour installer un
nodal FPAC, fondé sur une distribution <a
 href="http://www.mandriva.com/fr/download/free">Linux
Mandriva 2009</a>
vous aideront à : </p>
<ol>
  <li>
    <p style="margin-bottom: 0in;"><font
 face="courier new, courier, monospace">Avoir un noyau Linux 2.6
comportant les modules AX25 </font> </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font
 face="courier new, courier, monospace">Installer les librairies AX25 </font>
    </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font
 face="courier new, courier, monospace">Installer les outils AX25 </font>
    </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font
 face="courier new, courier, monospace">Installer les applications AX25
    </font> </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font
 face="courier new, courier, monospace">Configurer le démon ax25ipd </font>
    </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font
 face="courier new, courier, monospace">Installer le logiciel FPAC </font>
    </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font
 face="courier new, courier, monospace">Installer les scripts de
démarrage de l'AX25</font></p>
  </li>
  <li>
    <p><font face="courier new, courier, monospace">Mettre en route le
routeur FPAC.</font></p>
  </li>
</ol>
<p style="margin-left: 0.39in; margin-right: 0.39in;"><br>
</p>
<hr>
<h2><a name="s2"></a>2. Comment configurer un noyau Linux 2.6 avec
les modules AX25</h2>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Ce MINI-HOWTO n'est pas l'endroit
pour décrire Linux ni comment installer un système Linux sur votre
ordinateur. Pour vous familiariser avec Linux Mandriva possède sa
propre version “Live” sur un seul CD à partir duquel on peut démarrer
(bouter).
Celui-ci est autonome et ne modifie pas le contenu de votre disque dur.
    <a href="http://www2.mandriva.com/fr/linux/one/">La
distribution Mandriva live s'appelle “One”</a>. Vous pouvez télécharger
librement la distribution Mandriva One Linux en FTP à partir des <a
 href="http://www.mandriva.com/fr/telecharger/">sites miroir
Mandriva</a> ou via BitTorrent. Gravez
ensuite le CD et boutez à partir de celui-ci. C'est la manière la plus
rapide
et
la plus simple d'avoir un Linux avec l'AX25 de base. Consultez cette
page Wiki pour lire la <a
 href="http://wiki.mandriva.com/fr/Installer_Mandriva_Linux">doc
d'installation de Mandriva Linux</a>. <br>
    </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Si vous avez téléchargé la dernière <span
 style="font-weight: bold;">Mandriva One</span>, le noyau est le
2.6.29. Pour faire tourner les applications AX25 vous devrez
cependant
installer cette version Live sur disque dur via
l'utilitaire dont l'icone d'<b>Installation</b> figure sur le bureau.
Rendez-vous ensuite directement au chapitre 3 pour installer les
librairies AX25. Cependant, dans la suite, vous devrez choisir
systématiquement l'installation des fichiers binaires car, par défaut,
votre système Linux ne disposera pas des outils de compilation (Gcc).
Toutefois, ces binaires ne sont pas les versions les plus récentes.<br>
    </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Mandriva distribue <span
 style="font-weight: bold;">Mandriva Flash</span><span
 style="font-weight: bold;">.</span> C'est une <span
 style="font-weight: bold;">distribution </span><span
 style="font-weight: bold;">de Linux </span><span
 style="font-weight: bold;">sur une clé USB de 8 Go</span> pour 49
Euros ou 59,9 US$. </p>
  </li>
</ul>
<div style="margin-left: 40px;"><span style="font-weight: bold;"></span>C'est
également une version "Live"
c'est à dire
préinstallée et
boutable depuis la clé. Elle n'utilise pas le disque dur, mais
seulement la mémoire vive et la clé USB pour le stockage de vos
fichiers. Vous trouverez une <a
 href="http://www2.mandriva.com/fr/linux/flash/">description
de la Mandriva Flash sur cette page de l'éditeur Mandriva</a>. J'ai
écrit un <a
 href="http://rose.fpac.free.fr/FPAC-LINUX-FLASH-MINI-HOWTO-FR/">FPAC
Linux Flash
Mini Mode d'Emploi</a> spécifique pour expliquer l'adjonction d'un
compilateur Gcc et des outils de développements en vue de
l'installation des applications AX25 et en particulier de FPAC et d'une
BBS F6FBB sur la clé USB. Si vous souhaitez disposer d'un Linux unltra
portable avec routeur FPAC et des programmes de communication AX25
reportez vous au mini mode d'emploi spécifique.<br>
</div>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Autrement, si vous connaissez bien
Linux, vous pouvez&nbsp; procéder à l'installation d'une distribution <span
 style="font-weight: bold;">Mandriva Linux 2009.1</span> plus
complète avec les options de
développement et
les serveurs (nfs, ftp etc...) Dans mon expérience c'est une
distributions Linux facile à installer. Elle peut être téléchargée
librement depuis un <a href="http://www.mandriva.com/fr/telecharger/">site
miroir Mandriva</a>.
La distribution existe sous forme d'une image ISO de DVD faisant
environ 700 Mo. </p>
  </li>
</ul>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Gravez le DVD et boutez à
partir de celui-ci. L'installation est assez simple. Au moment
du choix du bureau (KDE, Gnome) sélectionnez l'option <span
 style="font-weight: bold;">personnalisée</span> ou <span
 style="font-weight: bold;">avancée</span>. Ceci élargit le choix des
options d'installation. Sélectionner au minimum les suivantes : <b><i>développement</i></b>,
    <b><i>serveurs réseau</i></b> et <b><i>client réseau</i></b> et un
environnement de bureau, KDE par exemple. Les
autres options sont à votre gré. A un moment il vous sera demandé le
mot de passe du superviseur (<span style="font-weight: bold;">root</span>)
et de déclarer un utilisateur.
Faites le. En plus il sera utile pour la suite de créer un autre compte
utilisateur avec le nom '<span style="font-weight: bold;">fpacuser</span>'
et le mot de passe '<span style="font-weight: bold;">fpac</span>'.
Avant la
fin de l'installation il y a deux choses importantes à faire : la
configuration du graphique et du réseau. Vérifiez que le graphique est
bien configuré en faisant le test proposé. Il est déconseillé de
configurez votre adresse réseau avec le protocole DHCP. Donnez plutôt
une adresse IP fixe à votre interface Ethernet eth0. Exemple <span
 style="font-weight: bold;">192.168.0.200</span>. Créez un
compte utilisateur à votre nom pour l'usage courant de
Linux. Cependant, les applications AX25 nécessitent de se connecter en
mode superviseur, c'est à&nbsp; dire en utilisant le login <span
 style="font-weight: bold; font-style: italic;">root</span>. <br>
    </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Quand l'installation sera complète,
vous aurez un système Linux avec le noyau 2.6.29. Il est prêt pour
la
mise en place des applications et pilotes pour l'AX25 ( les modules
ax25, rose,
mkiss, 6pack, netrom, etc...étant pré-compilés).</p>
  </li>
</ul>
<ul>
  <li>Il est maintenant temps de bouter
avec votre Linux nouvellement installé. Il n'est pas nécessaire
d'ouvrir une session superviseur (root) pour le moment; mais une
session utilisateur. Lancez le navigateur Mozilla ou Konqueror et
rendez-vous sur cette URL:&nbsp; <a
 href="http://rose.fpac.free.fr/MINI-HOWTO-FR/">http://rose.fpac.free.fr/MINI-HOWTO-FR/</a>
pour ouvrir de nouveau ce mini mode d'emploi de FPAC.</li>
</ul>
<ul>
  <li>
    <p style="margin-bottom: 0in;"><span style="font-weight: bold;">A
partir de là, en cliquant sur les
liens soulignés de couleur bleue, vous pourrez passer directement au
chapitre 3 pour installer les
librairies AX25.</span></p>
  </li>
</ul>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Si vous souhaitez configurer
un noyau
Linux personalisé, il faut télécharger le paquetage source à partir du
site <a href="http://www.eu.kernel.org/">kernel.org</a>. Cependant
cela nécessitera de compiler le noyau après avoir sélectionné les
modules indispensables selon la configuration de votre ordinateur. Ce
sujet est documenté dans le <a
 href="http://www.ibiblio.org/pub/Linux/docs/HOWTO/translations/fr/pdf/Kernel-HOWTO.pdf">mode
d'emploi du noyau Linux</a><u>.</u> </p>
  </li>
</ul>
<ul>
  <li>
    <p>Pour rechercher les sources du plus récent noyau Linux,
rendez-vous sur le site <a
 href="http://eu.kernel.org/pub/linux/kernel/v2.6/">http://eu.kernel.org/</a><span
 style="text-decoration: underline;"></span> . Sur la ligne</p>
  </li>
</ul>
<table
 style="width: 685px; height: 31px; text-align: left; margin-left: auto; margin-right: auto;"
 class="kver">
  <tbody>
    <tr align="left">
      <td style="text-align: left;">The latest stable version of the
Linux kernel is:&nbsp;</td>
      <td style="text-align: center;"><b><a
 href="http://www.eu.kernel.org/pub/linux/kernel/v2.6/patch-2.6.31.1.bz2">2.6.31.1</a></b></td>
      <td>2009-09-25 17:39 UTC</td>
      <td><a
 href="http://www.eu.kernel.org/pub/linux/kernel/v2.6/linux-2.6.31.1.tar.bz2">F</a></td>
      <td><a
 href="http://www.eu.kernel.org/diff/diffview.cgi?file=%2Fpub%2Flinux%2Fkernel%2Fv2.6%2Fpatch-2.6.31.1.bz2">V</a></td>
      <td><a
 href="http://www.eu.kernel.org/diff/diffview.cgi?file=%2Fpub%2Flinux%2Fkernel%2Fv2.6%2Fincr%2Fpatch-2.6.31.1-2.bz2">VI</a></td>
      <td><a
 href="http://git.kernel.org/?p=linux%2Fkernel%2Fgit%2Fstable%2Flinux-2.6.31.1.y.git;a=summary">C</a></td>
      <td style="text-align: center;"><a
 href="http://www.eu.kernel.org/pub/linux/kernel/v2.6/ChangeLog-2.6.31.1">Changelog</a></td>
    </tr>
  </tbody>
</table>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; cliquez sur le champ F puis sur la
première ligne de la page suivante pour télécharger le paquetage source
complet.
Cliquez sur V pour le patch. En cliquant sur F vous accédez à :<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<big><big> </big></big><a
 href="http://www.eu.kernel.org/pub/linux/kernel/v2.6/linux-2.6.31.1.tar.bz2"
 class="lsrc">/pub/linux/kernel/v2.6/linux-2.6.31.1.tar.bz2</a><br>
<ul>
  <li>
    <p>Déplacez le fichier dans le répertoire <b><i>/usr/src/</i></b>
et passez dans ce répertoire avec la commande <b>cd /usr/src </b> </p>
    <p>Déployez l'archive :</p>
    <p><b>tar&nbsp; xf&nbsp; linux-2.6.31.1.tar.bz2</b></p>
    <p>Ceci va créer un répertoire linux-2.6.31.1 <br>
    </p>
  </li>
  <li>
    <p>Créez le lien
symbolique <span style="font-weight: bold;">linux</span> </p>
    <p><b>ln &nbsp; -s &nbsp;&nbsp; linux-2.6.31.1&nbsp; linux</b></p>
  </li>
</ul>
<div style="margin-left: 40px;">Il peut être également utile de créez
les liens
symboliques <span style="font-weight: bold;">a </span>et<span
 style="font-weight: bold;"> b </span>qui pourront servir pour
appliquer des patches de modification des fichiers sources du noyau
Linux.<br>
</div>
<div style="margin-left: 40px;"><b><br>
ln &nbsp; -s &nbsp; linux &nbsp;&nbsp; <big>a</big></b></div>
<div style="margin-left: 40px;"><b><br>
ln&nbsp; -s &nbsp; linux &nbsp;&nbsp; b</b></div>
<ul>
  <li>Il faut maintenant vous préparer à
compiler les sources du noyau. Pour cela vous pouvez consulter le&nbsp;<a
 href="http://www.ibiblio.org/pub/Linux/docs/HOWTO/translations/fr/pdf/Kernel-HOWTO.pdf">mode
d'emploi du noyau Linux</a>.</li>
</ul>
<div style="margin-left: 40px;">Très sommairement vous devez
ouvrir un Terminal Console en cliquant sur l'icône <span
 style="font-weight: bold;">"Konsol"</span> de la barre d'outil. Passer
en mode superviseur en
tapant la&nbsp; commande <b>su</b> suivie du mot de passe
correspondant. <br>
</div>
<br>
<div style="margin-left: 40px;">Passez dans le répertoire <span
 style="font-style: italic; font-weight: bold;">/usr/src/linux</span><br>
</div>
<p style="margin-bottom: 0in;"> </p>
<ul>
</ul>
<div style="margin-left: 40px;">Tapez la commande:</div>
<div style="margin-left: 40px;"><br>
&nbsp;<b>make
xconfig</b> depuis le répertoire <b>/usr/src/linux</b><br>
<br>
Vous pouvez aussi bien lancer la
configuration dans un menu non graphique en tapant la commande <b><br>
<br>
make menuconfig </b>dans un
terminal Konsole. </div>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Dans les deux cas un menu devrait
apparaître après un moment. </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Normalement vous devrez
valider ou invalider différents items en fonction du matériel
présent dans votre ordinateur. Certains sont déja sélectionnés par
défaut. <br>
    </p>
  </li>
</ul>
<ul>
  <li>Les interfaces radio de FPAC font appel à un système de pseudo
TTY qui est en désuétude, donc non installé dans les noyaux des
distributions récentes . Il est donc nécessaire de sélectionner cette
option dans le sous menu <span style="font-weight: bold;">"Device
Drivers", "Character devices",&nbsp; sélectionnez [*] Legacy (BSD) PTY
support</span> et sur la ligne suivante entrez le nombre de pseudo TTY
souhaités (10 devraient suffire). Il apparaîtront sous les noms&nbsp; <span
 style="font-weight: bold;">/dev/ttyp0 à 9 et /dev/ptyp0 à 9</span>. </li>
</ul>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Pour un système moyennement
sollicité vous pouvez sélectionner
l'option <b><i>timer frequency 250 Hz</i></b> du menu <b><i>processor
type and features</i></b><i>.</i> </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">La plupart des modules sont
préselectionnés. Les compiler risque de prendre beaucoup de temps sur
un PC moyennement rapide. Dans ce cas Mandriva Linux trouvera les
pilotes
nécessaires à votre système et les chargera en mémoire au moment du
boute. Avec un peu d'expérience vous saurez déselectionner les modules
non nécessaires et ainsi gagner pas mal de temps de compilation. </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Pour compiler les modules AX25 vous
devez sélectionner le sous menu <b><i>networking</i></b> et valider <b><i>amateur
radio support</i></b>. La validation des modules est effective quand la
lettre <b>M</b> est affichée (menuconfig) ou par un <b>point</b>
(xconfig). Pour invalider un item taper <b>N</b> (menuconfig) ou
cliquez sur la boîte de l'item pour la vider (xconfig). </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Sélectionnez le sous menu <b>amateur
radio support</b> et validez <b><i>tous les protocoles</i></b>.
Sélectionnez le menu <b><i>AX25 network device drivers</i></b> et
validez également tous les items : serial port KISS driver, serial port
6PACK driver, BPQ Ethernet driver, Highspeed (DMA) SCC driver for
AX.25,&nbsp; Z8530 SCC driver, all the BAYCOMs, YAM driver for AX.25.</p>
  </li>
</ul>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Sauvegardez la configuration en
répondant oui (<b>Y</b>) à la fin du menu de configuration.</p>
  </li>
</ul>
<ul>
  <p style="margin-bottom: 0.2in;">Vous pouvez maintenant entrer dans
le répertoire Linux et lancer la compilation du noyau.<br>
  </p>
  <p style="margin-bottom: 0.2in;"><span style="font-weight: bold;">cd
&nbsp;
linux</span><br>
  <b>make</b></p>
  <p style="margin-bottom: 0.2in;">La compilation prendra un certain
temps qui dépend du nombre de fichiers à compiler et de la vitesse de
votre microprocesseur. Une fois la compilation achevée, tapez les
commandes suivantes :</p>
  <p style="font-weight: bold;"><font face="Courier New, monospace">make
modules_install<br>
make
install</font></p>
</ul>
<ul>
  <li>
    <p style="margin-bottom: 0.2in;">Si tout s'est bien passé vous
pouvez maintenant rebouter votre système. Le choix du nouveau noyau
apparaîtra après la ligne <b>Linux 2009</b> du noyau d'origine
(option de boute par défaut); sur la ligne <b>Linux avec le noyau
2.6.29.2 </b>si vous avez compilé le noyau 2.6.29.2. Si le boute se
passe bien vous
aurez désormais un système Linux avec les modules AX25. Vous pouvez
vérifier avec certains qu'ils sont chargeables avec les commandes :</p>
    <p style="margin-bottom: 0.2in; font-weight: bold;"><font
 face="Courier New, monospace"><font size="3">modprobe ax25<br>
modprobe rose<br>
modprobe mkiss</font></font></p>
  </li>
</ul>
<ul>
  <li>
    <p style="margin-bottom: 0in;">La commande <b>lsmod </b>affichera
la liste des modules chargés en mémoire.</p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Quand vous serez satisfaits du
nouveau noyau vous pourrez le sélectionner comme noyau boutable par
défaut via le <b><i>Centre de Controle Mandriva</i></b>, outil de
configuration de votre système Linux Mandriva. </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Dans les étapes suivantes, il est
plus commode de travailler à partir d'un terminal en mode caractères
que d'utiliser l'interface graphique X window qui travaille dans la
console virtuelle 7. Pour ouvrir la première console non graphique
tapez simultanément sur les trois touches <b>CONTROL+ALT+F1</b>. Une
console virtuelle s'ouvre en mode texte avec une invite de connection.
Connectez vousen mode superviseur (login <b><i>root)</i></b> et entrez
le mot de
passe du <span style="font-style: italic;">root</span> choisi au
moment de l'installation. Vous
pouvez ouvrir 6 sessions différentes dans les terminaux virtuels et
passer de l'un à l'autre en tapant simultanément sur les deux touches <b>ALT
    </b>et <b>Fn</b>, avec '<b>n</b>' entre <b>1</b> et <b>6</b> (<b>ALT+F1,...,
ALT+F6</b>). En tapant simultanément sur les touches <b>ALT</b> et <b>F7</b>
vous repassez en mode interface graphique (fenêtres et souris).</p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Nous allons maintenant installer les
librairies AX25.</p>
  </li>
</ul>
<p style="margin-bottom: 0in;"><br>
</p>
<hr>
<h2><a name="s3"></a>3. Comment installer les librairies AX25</h2>
<p><em>Un noyau Linux et des modules AX25 compilés ne
suffisent pas pour le fonctionnement de FPAC. Comme beaucoup d'autres
applications AX25, FPAC nécessite l'installation des
librairies AX25. Quand elles fonctionnent les différentes
applications AX25 font appel à des sous programmes communs qui
sont inclus dans les librairies afin d'optimiser les performances.
J'ai déposé le paquetage des sources des
<em><b>libax25-0.0.11</b>, incluant des modifications pour permettre
la compilation avec le noyau 2.6. Il est toujours préférable
de compiler les logiciels sur votre propre système. Note : je n'ai
testé que les paquetages avec le suffixe _f6bvp. Il n'y a aucune
garantie sur le fonctionnement des autres paquetages. </em></em>
</p>
<p style="margin-left: 0.42in;">Cliquez sur le lien suivant,
sélectionnez le fichier source des
librairies <span style="font-weight: bold;">libax25</span> et
télécharger le
paquetage dans le répertoire de votre choix.</p>
<ul>
  <p><a href="http://f6bvp.free.fr/logiciels/ax25/">http://f6bvp.free.fr/logiciels/ax25/</a></p>
  <p>Depuis une fenêtre terminal créez le répertoire <b><br>
  </b></p>
  <p><b>mkdir&nbsp; /usr/local/src/ax25 </b>et allez dans ce répertoire<b><br>
  </b></p>
  <p><b>cd &nbsp; /usr/local/src/ax25</b><br>
  </p>
  <p>Déplacez le fichier archive (par exemple libax25-0.0.11.4src.tgz)
dans <b>/usr/local/src/ax25 </b>et
décompactez le :<br>
  <b><br>
tar&nbsp; xf&nbsp; libax25-0.0.11.4src.tgz</b><br>
  </p>
  <p>passez dans le répertoire <b>cd&nbsp;
libax25-0.0.11 </b>et tapez les commandes suivantes :</p>
</ul>
<ul>
</ul>
<ul>
  <p><font face="courier new, courier, monospace"><span
 style="font-weight: bold;">./configure</span><br
 style="font-weight: bold;">
  <span style="font-weight: bold;">make</span><br
 style="font-weight: bold;">
  <span style="font-weight: bold;">make install<br>
make installconf<br>
  </span> </font> </p>
</ul>
<ul>
  <p>Ceci installera des exemples de
fichiers de configuration, <span style="font-weight: bold;">axports</span>,
  <span style="font-weight: bold;">rsports</span> et <span
 style="font-weight: bold;">nrports</span> dans <span
 style="font-weight: bold; font-style: italic;">/usr/local/etc/ax25</span>
et compilera et installera les
fichiers binaires dans le répertoire&nbsp; <b><i>/usr/local/lib</i></b>/
, et placera des fichiers <span style="font-style: italic;">include</span>
dans <span style="font-weight: bold; font-style: italic;">/usr/local/include</span>
et des pages de manuel accessibles via<b style="font-style: italic;">
man</b><span style="font-style: italic;"></span> dans<b
 style="font-style: italic;"> /usr/local/man.</b></p>
</ul>
<ul>
  <p style="margin-right: 0.39in;">Ou si vous préférez télécharger les
librairies compilées :</p>
  <p style="margin-right: 0.39in;"><a
 href="http://f6bvp.free.fr/logiciels/ax25/libax25-0.0.11_i386.tgz">http://f6bvp.free.fr/logiciels/ax25/libax25-0.0.11_i386.tgz</a></p>
</ul>
<ul>
  <p>Placez ce fichier dans le répertoire <b>/usr/local/src/ax25 </b>puis
  <b>cd</b>&nbsp; dans ce répertoire et désarchivez le
paquetage :</p>
  <p><b>tar xfP libax25-0.0.11_i386.tgz</b></p>
</ul>
<p style="margin-left: 0.42in;"><i>Note : le drapeau <span
 style="font-weight: bold;">P</span> dans <span
 style="font-weight: bold;">xvfP</span> est
en majuscule.</i></p>
<p style="margin-left: 0.42in;">Ceci placera des exemples de fichiers
de configuration dans <span
 style="font-weight: bold; font-style: italic;">/usr/local/etc/ax25</span>
et les librairies dans le
répertoire&nbsp; <span style="font-weight: bold; font-style: italic;">/usr/local/lib/
</span>et des fichiers <span style="font-style: italic;">include</span>
dans <span style="font-weight: bold; font-style: italic;">/usr/local/include</span>
et des pages de manuel accessible via<b style="font-style: italic;"> man</b><span
 style="font-style: italic;"></span> dans<b style="font-style: italic;">
/usr/local/man.</b>
</p>
<p style="margin-left: 0.42in;"><b>ls&nbsp; /usr/local/lib </b>devrait
afficher les noms de fichiers et liens symboliques suivants (les
tailles et dates peuvent différer) :</p>
<pre style="margin-left: 2cm; margin-right: 1cm;">-rw-r--r--  1 root root 101464 déc  4 19:59 libax25.a<br>-rw-r--r--  1 root root  20816 déc  4 19:59 libax25io.a<br>-rwxr-xr-x  1 root root    720 déc  4 19:59 libax25io.la*<br>lrwxrwxrwx  1 root root     18 déc  4 19:59 libax25io.so -&gt; libax25io.so.0.0.0*<br>lrwxrwxrwx  1 root root     18 déc  4 19:59 libax25io.so.0 -&gt; libax25io.so.0.0.0*<br>-rwxr-xr-x  1 root root  23090 déc  4 19:59 libax25io.so.0.0.0*<br>-rwxr-xr-x  1 root root    706 déc  4 19:59 libax25.la*<br>lrwxrwxrwx  1 root root     16 déc  4 19:59 libax25.so -&gt; libax25.so.0.0.0*<br>lrwxrwxrwx  1 root root     16 déc  4 19:59 libax25.so.0 -&gt; libax25.so.0.0.0*<br>-rwxr-xr-x  1 root root  76967 déc  4 19:59 libax25.so.0.0.0*</pre>
<hr>
<h2><a name="s4"></a>4. Comment installer les outils AX25</h2>
<p><em>J'ai modifié quelques entêtes #include afin de
pouvoir compiler le paquetage ax25tools-0.0.11 avec le noyau 2.6.
Vous pouvez choisir de récupérer les fichiers outils
compilés ou mieux de télécharger les sources et
les compiler. <em>Il est toujours préférable de
compiler les logiciels sur votre propre système.</em></em></p>
<p style="margin-left: 0.42in;">Cliquez avec la touche droite de la
souris sur le lien suivant pour télécharger le
paquetage dans le répertoire de votre choix.</p>
<ul>
  <p><a
 href="http://f6bvp.free.fr/logiciels/ax25/ax25-tools-0.0.8.2src_f6bvp.tgz">http://f6bvp.free.fr/logiciels/ax25/ax25-tools-0.0.8.2src_f6bvp.tgz</a></p>
  <p>Déplacez le fichier archive dans <b>/usr/local/src/ax25 </b> </p>
  <p>Passez dans ce répertoire et décompactez le.</p>
  <p><b>cd &nbsp; /usr/local/src/ax25 </b> </p>
  <p><b>tar&nbsp; xf&nbsp; ax25-tools-0.0.8.2src_f6bvp.tgz</b></p>
  <p><b>cd&nbsp; ax25-tools-0.0.8</b> et tapez les commandes suivantes :</p>
</ul>
<ul style="font-weight: bold;">
  <p><font face="courier new, courier, monospace"><span
 style="font-weight: bold;">./configure</span><br
 style="font-weight: bold;">
  <span style="font-weight: bold;">make</span><br
 style="font-weight: bold;">
  <span style="font-weight: bold;">make install</span><br
 style="font-weight: bold;">
  <span style="font-weight: bold;">make installconf</span><br>
  </font></p>
</ul>
<p style="margin-left: 40px;">Ceci installera
des exemples de fichiers de configuration, <span
 style="font-weight: bold;">ax25d.conf</span>, <span
 style="font-weight: bold;">ax25.profile, ax25spawn, nrbroadcast.conf,
rip98d.conf, rxecho.conf, ttylinkd.conf </span><span
 style="font-weight: bold;"></span>dans <span
 style="font-weight: bold; font-style: italic;">/usr/local/etc/ax25</span>
, compilera
et installera les fichiers logiciels utilitaires dans le
répertoire&nbsp;
<b style="font-style: italic;">/usr/local/sbin</b><span
 style="font-style: italic;">/</span> d'autres dans <b
 style="font-style: italic;">/usr/local/bin/&nbsp; </b>et placera des
pages de manuel accessibles via<b style="font-style: italic;"> man</b><span
 style="font-style: italic;"></span> dans<b style="font-style: italic;">
/usr/local/man</b></p>
<ul>
  <p style="margin-right: 0.39in; margin-bottom: 0in;"><em>La deuxième
option est de télécharger les outils AX25 compilés depuis le lien
suivant :</em></p>
</ul>
<p style="margin-left: 0.42in;"><a
 href="http://f6bvp.free.fr/logiciels/ax25/ax25-tools-0.0.8_i386.tgz">http://f6bvp.free.fr/logiciels/ax25/ax25-tools-0.0.8_i386.tgz</a></p>
<ul>
  <p>Placez ce fichier par exemple dans le répertoire <b>/usr/local/src/ax25
  </b>puis <b>cd</b>&nbsp; dans ce répertoire et désarchivez le
paquetage :</p>
</ul>
<ul>
  <p><b>tar&nbsp; xfP&nbsp; ax25-tools-0.0.8_i386.tgz</b> </p>
</ul>
<p style="margin-left: 0.42in;"><i>Note : le drapeau <span
 style="font-weight: bold;">P</span> dans <span
 style="font-weight: bold;">xvfP</span> est
en majuscule.</i></p>
<p style="margin-left: 0.42in;">Ceci placera les fichiers
de configuration dans <span
 style="font-weight: bold; font-style: italic;">/usr/local/etc/ax25</span>,
les binaires exécutables dans les répertoires&nbsp;
<i><b>/usr/local/sbin/ </b></i>et d'autres dans <b>/usr/local/bin, </b>et
placera des pages de manuel accessibles via<b
 style="font-style: italic;"> man</b><span style="font-style: italic;"></span>
dans<b style="font-style: italic;"> /usr/local/man</b> </p>
<hr>
<h2><a name="s5"></a>5. Comment installer les applications AX25</h2>
<p><em>Au contraire des deux précédents paquetages, les
applications AX25 ont récemment évoluées quand
Steve VK5ASF a inclus la gestion des IP dynamiques. Bien qu'il n'y
ait pas encore de nouvelle version officielle, j'ai déposé
les sources et les programmes compilés du paquetage
ax25-apps-0.0.6. Vous pouvez choisir de récupérer les
fichiers outils compilés ou mieux de télécharger
les sources et les compiler. <em>Il est toujours préférable
de compiler les logiciels sur votre propre système</em> :</em></p>
<p style="margin-left: 0.42in;">Cliquez avec la touche droite de la
souris sur le lien suivant pour télécharger le
paquetage dans le répertoire de votre choix :</p>
<ul>
  <p><a
 href="http://f6bvp.free.fr/logiciels/ax25/ax25-apps-0.0.6.2src_f6bvp.tgz">http://f6bvp.free.fr/logiciels/ax25/ax25-apps-0.0.6.2src_f6bvp.tgz</a></p>
  <p>Déplacez le fichier dans le répertoire&nbsp; <b><i>/usr/local/src/ax25</i>&nbsp;
  </b>et&nbsp; <b>cd</b>&nbsp; dans ce répertoire. Désarchivez le
paquetage :</p>
  <p><b>tar&nbsp; xf&nbsp; ax25-apps-0.0.6.2src_f6bvp.tgz</b></p>
  <p><b>cd&nbsp; ax25-apps-0.0.6</b>&nbsp; et tapez les commandes
suivantes :</p>
</ul>
<ul>
  <p><font face="courier new, courier, monospace"><span
 style="font-weight: bold;">./configure</span><br
 style="font-weight: bold;">
  <span style="font-weight: bold;">make</span><br
 style="font-weight: bold;">
  <span style="font-weight: bold;">make install</span><br
 style="font-weight: bold;">
  <span style="font-weight: bold;">make installconf</span><br>
  </font> </p>
</ul>
<p style="margin-left: 0.42in; margin-right: 0.39in;">Ceci installera
des exemples de fichiers de configuration, <span
 style="font-weight: bold;">ax25ipd.conf</span>, <span
 style="font-weight: bold;">ax25mond.conf</span> et <span
 style="font-weight: bold;">ax25rtd.conf</span> dans <span
 style="font-weight: bold; font-style: italic;">/usr/local/etc/ax25</span>,
et installera les logiciels d'application dans le répertoire&nbsp;
<b style="font-style: italic;">/usr/local/sbin</b><span
 style="font-style: italic;">/</span>&nbsp; d'autres dans <b
 style="font-style: italic;">/usr/local/bin/&nbsp; </b>et des pages de
manuel accessible via<b style="font-style: italic;"> man</b><span
 style="font-style: italic;"></span> dans<b style="font-style: italic;">
/usr/local/man</b><br>
</p>
<ul>
  <p style="margin-right: 0.39in; margin-bottom: 0in;"><em>&nbsp;La
deuxième
option est de télécharger les applications AX25 compilées depuis le
lien suivant :</em></p>
</ul>
<p style="margin-left: 0.42in;"><a
 href="http://f6bvp.free.fr/logiciels/ax25/ax25-apps-0.0.6_i386.tgz">http://f6bvp.free.fr/logiciels/ax25/ax25-apps-0.0.6_i386.tgz</a></p>
<p style="margin-left: 0.42in;">Déplacez le fichier dans le
répertoire&nbsp; <b><i>/usr/local/src/ax25</i>&nbsp; </b>et&nbsp;
<b>cd</b>&nbsp; dans ce répertoire. Désarchivez le
paquetage :</p>
<p style="margin-left: 0.42in;"><b>tar xvfP
ax25-apps-0.0.6_i386.tgz</b></p>
<p style="margin-left: 0.42in;"><i>Note : le drapeau <span
 style="font-weight: bold;">P</span> dans <span
 style="font-weight: bold;">xvfP</span> est
en majuscule.</i></p>
<p style="margin-left: 0.42in;">Ceci placera les fichiers de
configuration dans <span style="font-weight: bold; font-style: italic;">/usr/local/etc/ax25</span>,
les programmes exécutables dans les répertoires&nbsp; <b
 style="font-style: italic;">/usr/local/sbin/
</b>et&nbsp; <b style="font-style: italic;">/usr/local/bin</b> et des
pages de manuel<span style="font-style: italic;"></span> dans<b
 style="font-style: italic;"> /usr/local/man<br>
</b></p>
<ul>
  <li>Maintenant nous devons effectuer
quelques taches de gestion.</li>
</ul>
<ul>
  <p style="margin-right: 0.39in;"><i> </i><br>
  <br>
  </p>
</ul>
<hr>
<h2><a name="s6"></a>6. Un script pour créer divers
répertoires et droits de fichiers</h2>
<span style="font-style: italic;">Afin de réaliser notre but de mettre
en route un nodal FPAC avec le noyau Linux 2.6 nous devons créer
quelques répertoires et attribuer certains droits sur des fichiers.</span>
Ceci aurait du se faire automatiquement à l'installation des
paquetages, librairies, outils et applications AX25.
<ul>
  <li>
    <p style="margin-bottom: 0in;">J'ai donc écrit le script suivant
pour faciliter le travail qui doit être fait une fois pour toutes.</p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Vous pouvez le copier-coller dans un
répertoire avec un nom de fichier comme <b>rc.init.script</b> </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><b>cd</b>&nbsp; dans ce répertoire,
faites&nbsp; <b>chmod a+x&nbsp; rc.init.script</b>&nbsp; et exécutez
le script avec la commande&nbsp; <b>./rc.init.script</b></p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Ou bien téléchargez le fichier en
cliquant à droite avec la souris sur le lien suivant pour le placer
dans le répertoire de votre choix.</p>
    <p style="margin-bottom: 0in;"><a
 href="http://rose.fpac.free.fr/MINI-HOWTO-FR/rc.init.script">Téléchargez
le script à partir d'ici</a> et exécutez les mêmes commandes que celles
indiquées ci-dessus sur la ligne <b>cd</b>. </p>
  </li>
</ul>
<p style="margin-left: 0.42in; margin-bottom: 0in;"><font size="2"><font
 face="Courier New, monospace">#!/bin/sh<br>
#
rc.init.script<br>
# dans </font></font><a href="http://rose.fpac.free.fr/MINI-HOWTO-FR"><font
 size="2"><font face="Courier New, monospace">http://rose.fpac.free.fr/MINI-HOWTO-FR</font></font></a><br>
<font face="Courier New, monospace"><font size="2">#
de f6bvp at amsat point org<br>
#<br>
echo "Ce script doit être lancé une fois pour toutes après
l'installation de :"<br>
echo " "<br>
echo "- libax25"<br>
echo "- ax25-apps"<br>
echo "-
ax25-tools"<br>
echo " "<br>
echo "et avant l'installation du paquetage FPAC
fpac327"<br>
echo " "<br>
echo "Une fois pour toutes !"<br>
echo " "<br>
#<br>
echo "Sinon tapez Ctl-C pour stopper ce script !"<br>
sleep 15<br>
#<br>
# Declaration des
librairies AX25 (dans ld.so.conf)<br>
#<br>
echo "/usr/local/lib"
&gt;&gt; /etc/ld.so.conf<br>
/sbin/ldconfig<br>
#<br>
# Reservation du
port 10093 protocole UDP pour le service FPAC<br>
#<br>
echo "fpad
10093/tcp # FPAC" &gt;&gt; /etc/services<br>
echo "fpad
10093/udp # FPAC" &gt;&gt; /etc/services<br>
#<br>
# Creation des
repertoires AX25 necessaires<br>
#<br>
#mkdir /usr/local/var<br>
#mkdir
/usr/local/var/ax25<br>
#cd /var<br>
ln -s /usr/local/var/ax25
/var/ax25<br>
#mkdir /usr/local/etc<br>
#mkdir /usr/local/etc/ax25<br>
#cd
/etc<br>
ln -s /usr/local/etc/ax25 /etc/ax25<br>
#<br>
# Ajouter quelques
repertoires et fichiers pour FPAC<br>
#<br>
#mkdir
/usr/local/var/ax25/fpac<br>
/bin/chmod a+x /usr/local/var<br>
/bin/chmod
a+x /usr/local/var/ax25<br>
/bin/chmod a+x
/usr/local/var/ax25/fpac<br>
/bin/touch
/usr/local/var/ax25/fpac/loggedin<br>
/bin/chmod a+w
/usr/local/var/ax25/fpac/loggedin<br>
#<br>
#mkdir
/usr/local/var/ax25/mheard<br>
/bin/chmod a+x
/usr/local/var/ax25/mheard<br>
/bin/touch
/usr/local/var/ax25/mheard/mheard.dat<br>
#<br>
/bin/touch
/usr/local/etc/ax25/axports<br>
/bin/touch
/usr/local/etc/ax25/nrports<br>
/bin/touch
/usr/local/etc/ax25/flexd.conf<br>
/bin/touch
/usr/local/etc/ax25/node.routes<br>
#<br>
echo "Ne pas oublier
d'editer 'SYSOP=' et 'CONNECT='"<br>
echo "dans le fichier
/usr/local/sbin/fpac.sh"<br>
echo "en complétant avec
l'indicatif de la BBS et le nom du sysop"<br>
#</font></font></p>
<ul>
  <p>Ne pas oublier d'éditer les champs '<b>SYSOP=</b>' et '<b>CONNECT=</b>'
dans le fichier <b><i>/usr/local/sbin/fpac.sh</i></b> en complétant
avec l'indicatif de la BBS et le nom du sysop.</p>
</ul>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Après avoir préparé le terrain avec
le script précédent, nous devons éditer le fichier <b><i>/usr/local/etc/ax25/axports</i></b>
un fichier très important pour la déclaration des noms de ports AX25.
Vous devrez remplacer F6ZZZ par votre indicatif. </p>
    <p style="margin-bottom: 0in;">Le port 0 sera relié par kissattach
au pseudo tty ptyq1. J'ai fixé une vitesse de 115200 bauds , mais je ne
suis pas certain que ce paramètre soit utilisé. </p>
    <p style="margin-bottom: 0in;">Un <b>paclen</b> à 256 est la
limite supérieure prévue dans l'AX25 standard. Comme FPAC utilise 3
octets pour le routage selon le protocole rose, les application AX25
devront déclarer un paramètre paclen de moins de 256-3 octets lors des
appels vers le&nbsp; port rose0.&nbsp; Dans le fichier port.sys pour
xfbb je met un paclen à 250. </p>
    <p style="margin-bottom: 0in;">Il est impératif que les stations
qui communiquent entre elles utilisent la même valeur pour le&nbsp;
paramètre <b>maxframe</b>. Bien que le protocole AX25 autorise jusqu'à
7 trames, je suis convaincu qu'un petit maxframe est meilleur,
spécialement dans les liaisons radio. Pour l'AXIP je suggère que nous
fixions maxframes à 4. </p>
    <p style="margin-bottom: 0.2in;">Dans l'exemple de <a
 href="http://rose.fpac.free.fr/MINI-HOWTO-FR/axports">/usr/local/etc/ax25/axports</a>
suivant j'ai mis en commentaire la déclaration des ports 1-4. Le port 0
sera celui utilisé par FPAC pour se relier à Internet. On pourra
utiliser les autres ports pour interfacer deux TNC doubles ports radio
via deux
ports série avec le pilote mkiss.</p>
  </li>
</ul>
<p style="margin-left: 0.42in;"><font face="Courier New, monospace"><font
 size="2">#
/usr/local/etc/ax25/axports<br>
#<br>
# Le format de ce fichier est&nbsp; :<br>
#<br>
#
nom&nbsp; indicatif vitesse paclen maxframes description<br>
#<br>
0&nbsp;&nbsp;
F6ZZZ-8&nbsp; 38400&nbsp;&nbsp; 256&nbsp; 4&nbsp; Linux&nbsp;
(AXIP)<br>
#1&nbsp;&nbsp; F6ZZZ-4&nbsp;&nbsp; 38400&nbsp;&nbsp; 256&nbsp;
2&nbsp; Linux&nbsp; (VHF-1)<br>
#2&nbsp;&nbsp; F6ZZZ-5&nbsp;&nbsp;
38400&nbsp;&nbsp; 256&nbsp; 2&nbsp; Linux&nbsp; (UHF-1)<br>
#3&nbsp;&nbsp;
F6ZZZ-6&nbsp;&nbsp; 38400&nbsp;&nbsp; 256&nbsp; 2&nbsp; Linux&nbsp;
(VHF-2)<br>
#4&nbsp;&nbsp; F6ZZZ-7&nbsp;&nbsp; 38400&nbsp;&nbsp; 256&nbsp;
2&nbsp; Linux&nbsp; (UHF-2)<br>
#</font></font></p>
<ul>
  <li>
    <p>Si vous prévoyez d'utiliser des TNC KPC9612, vous pouvez <a
 href="http://f6bvp.free.fr/logiciels/ax25/rc.f6bvp.tnc">télécharger
d'ici</a> un exemple de script d'initialisation pour deux TNC KPC9612
doubles ports radio (1200 &amp; 9600 bauds). Il faudra exécuter ce
script après le script&nbsp; <b>rc.ax25</b> présenté au chapitre 9.</p>
  </li>
</ul>
<p style="margin-bottom: 0in;"><br>
</p>
<hr>
<h2><a name="s7"></a>7. Comment configurer ax25ipd</h2>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Au moment de l'installation des
applications (<b>ax25-apps</b>) nous avons compilé <b>ax25ipd</b>.
Cette application fonctionne en tâche de fond (démon d'arrière plan).
Le fichier de configuration est <b><i>/usr/local/etc/ax25/ax25ipd.conf</i></b>.
Il indique à <b>ax25ipd</b> le nom du port par lequel il doit recevoir
ou émettre les trames de paquets AX25, le nom du port vers le monde
Internet, et les adresses Protocole Internet (IPv4) plus les numéros de
ports UDP des stations distantes. Avec ces indications, le démon <b>ax25ipd</b>
route les trames dans les deux directions, en sortie et en entrée entre
le port 10093 (protocole UDP) et le pseudo tty esclave ttyq1. Le pseudo
tty maître ptyq1 et le pseudo tty esclave ttyq1 sont les deux
extrêmités d'un tunnel virtuel. Lorsqu'un caractère est écrit a une
extrémité il peut être lu de l'autre côté et vice versa. Souvenez-vous
que <b>kissattach</b> relie ttyq1 et le port 0 AX25 dans <b><i>/usr/local/etc/ax25/axports</i></b>
(c'est à dire ax0 dans notre exemple). Ainsi le port ax0 AX25 se
trouve connecté sur Internet via cette chaîne compliquée. <b>Ax25ipd</b>
effectue un autre travail important. Il réalise l'encapsulation des
trames AX25 à l'intérieur de trames Protocole Internet. Les trames
AX25&nbsp; sont incluses dans des trames standard IP qu'Internet sait
gérer (AXIP). Dans le sens inverse, les trames IP qui arrivent sur le
port UDP 10093 sont épluchées par <b>ax25ipd</b> et finallement les
trames AX25 sont présentées au port ax0. Quand le démon <b>ax25ipd</b>
fonctionne, toutes les applications AX25 locales peuvent dialoguer de
façon transparente via Internet avec d'autres application AX25
distantes en écrivant ou en lisant sur le port ax0 sans avoir à
connaître les opérations effectuées après cette étape.</p>
  </li>
</ul>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Ci-après se trouve un exemple de
fichier <b><i>ax25ipd.conf</i></b>. Vous pouvez le copier-coller dans <b>/usr/local/etc/ax25/ax25ipd.conf</b>,
éditer le fichier existant
ou le <a href="http://rose.fpac.free.fr/MINI-HOWTO-FR/ax25ipd.conf">télécharger
depuis ici.</a></p>
  </li>
</ul>
<p style="margin-bottom: 0in;"><br>
</p>
<p style="margin-left: 0.42in;"><font face="Courier New, monospace"><font
 size="2">#
/usr/local/etc/ax25/ax25ipd.conf<br>
# fichier de configuration de ax25ipd<br>
#<br>
#
Selectionner transport axip transport. 'ip' est ce que vous voulez
pour etre compatible<br>
# avec la plupart des autres portes
...<br>
#<br>
socket ip<br>
socket udp 10093<br>
#<br>
# Choisir le mode
d'operation d'ax25ipd (digi ou tnc)<br>
#<br>
mode tnc<br>
#<br>
# Si
vous selectionnez digi, vous devez definir un indicatif. Si vous
choisissez<br>
# le mode tnc, l'indicatif est pour l'instant
optionnel, mais cela peut changer<br>
# dans le futur ! (2 indicatifs
en cas de mkiss avec deux ports)<br>
#<br>
#mycall2 vk5xxx-5<br>
#<br>
#
En mode digi, vous pouvez utiliser un alias. (2 pour double
ports)<br>
#<br>
#myalias2 svwdn2<br>
#<br>
# Envoyer une balise toutes
les 540 secondes ...<br>
#<br>
#beacon after 540<br>
#btext ax25ip --
tncmode untel/f6zzz -- Passerelle AXIP experimentale<br>
#<br>
# Port
serie ou tunnel, connecte a kissattach dans mon cas<br>
# le pseudo
tty /dev/ptyq1 maitre est attache au port ax0 (nom 0 dans
/usr/local/etc/ax25/axports)<br>
#<br>
device /dev/ttyq1<br>
#<br>
# Initialiser la
vitesse du port pseudo tty<br>
#<br>
speed 38400<br>
#<br>
# loglevel 0
- pas de sortie<br>
# loglevel 1 - info de config seulement<br>
#
loglevel 2 - evenement majeurs et erreurs<br>
# loglevel 3 -
evenements majeurs, erreurs et trace des trames AX25<br>
# loglevel 4
- lister tous les evenements<br>
#<br>
loglevel 2<br>
#<br>
# Si nous
sommes en mode digi, nous pourrions avoir un tnc reel ici, donc
utiliser param pour<br>
# initialiser les parametres du tnc
...<br>
#<br>
#param 1 20<br>
#<br>
# Definition de l'adresse de
diffusion. Toute adresse listee sera envoyee<br>
# sur chaque route
marquee par un drapeau diffusion.<br>
#<br>
broadcast QST-0 NODES-0<br>
#<br>
#
Definition des routes ax.25, Definissez en autant que necessaire.<br>
#
Le format est route (indicatif / joker ) (adresse ip de l'hote
destination)<br>
# un ssid a 0 routera tous les ssid<br>
#<br>
# route
&lt;indicatif_dest&gt; &lt;addresse_dest&gt; [drapeaux]<br>
#<br>
# Les
drapeaux valides sont :<br>
# b - autorise la diffusion par cette
route<br>
# d - cette route est la route par defaut<br>
#<br>
#route
vk2sut-0 44.136.8.68 b<br>
route f5mtz-0 f5mtz.no-ip.org udp
10093<br>
route kp4djt-0 24.129.134.206 udp 10093<br>
route f1hci-0
f1hci.org udp 10093<br>
route f5kbw-0 147.210.91.241 udp 10093<br>
route
f6bvp-0 f6bvp.org udp 10093 b<br>
#<br>
#delay f5mzn-0 35<br>
#</font></font></p>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Comme vous pouvez le voir sur les
lignes "route" ci-dessus, dans la nouvelle version <b>ax25ipd</b> peut
gérer les adresses IP fixes (nombres) ainsi que les adresses IP
dynamiques (adresses symboliques). Que Steve VK5ASF en soit remercié<font
 size="2"><font face="Courier New">.</font></font></p>
  </li>
</ul>
<p style="margin-bottom: 0in;"><br>
</p>
<hr>
<h2><a name="s8"></a>8. Comment installer et configurer FPAC 3.27</h2>
<p><em>Jean-Paul F6FBB, l'auteur de FPAC pour Linux, en a cessé
le dévelopement avec la version 3.25 pour le noyau Linux 2.2, mais
Jean-Paul a publié
une version compilée 3.26 sur une disquette boutable dont vous
pouvez télécharger l'image depuis <a
 href="ftp://ftp.funet.fi/pub/ham/packet/bbs/f6fbb/distrib/fpac-linux/floppy">ce
site miroir F6FBB</a>. Ce <a
 href="ftp://ftp.funet.fi/pub/ham/packet/bbs/f6fbb/distrib/fpac-linux/floppy/rawwritewin.exe">programme
Windows</a> vous servira à écrire l'image sur une
disquette 1,44 Mo. FPAC 3.26 était associé avec la librairie
glibc6 Linux compatible avec les noyaux 2.4. Pour notre projet, nous
avons besoin de compiler les sources de FPAC.</em></p>
<ul>
  <li>
    <p style="margin-bottom: 0in;">La compilation des sources de FPAC
avec le récent compilateur GCC donnait des erreurs. Avec l'aide
initiale de
Jean-Paul F6FBB, j'ai inclus quelques changements pour compiler FPAC.
Cette nouvelle version de FPAC est compilable avec les noyaux 2.4
et 2.6. <span style="font-weight: bold;">Avec le noyau Linux 2.6.25 et
son moduke rose.ko, FPAC devient capable d'acheminer des paquets AX25
automatiquement sur une route ouverte vers l'adresse ROSE destination
via un des noeuds FPAC adjacents</span>. Deux patchs des noyaux
2.6.24.4
et 2.6.25 sont disponibles pour apporter cette fonctionnalité. Se
reporter chapitre 2.0 au paragraphe relatif à l'application de ces
patchs.<br>
    </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Téléchargez le plus récent paquetage
source <a href="http://f6bvp.free.fr/logiciels/rose-fpac/">fpac327
depuis ici</a>. Par exemple <b>fpac327-13src.tgz</b> </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Déplacez le fichier archive dans <b>/usr/local/src/ax25</b>
puis <b><i>cd&nbsp; /usr/local/src/ax25</i></b> </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Ensuite <b>tar&nbsp; xvf&nbsp;
fpac327-13src.tgz</b> </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Puis <b>cd&nbsp; fpac327.13</b></p>
  </li>
</ul>
<ul>
  <p style="margin-bottom: 0.2in;"><font face="Times New Roman, serif"><font
 size="3">Lancez ensuite la compilation :</font></font></p>
</ul>
<p style="margin-left: 0.42in; font-weight: bold;"><font
 face="Courier New, monospace">make<br>
make
install<br>
make installconf<br>
</font></p>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Les fichiers binaires exécutables
seront installés dans <b><i>/usr/local/sbin</i></b></p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Des sous répertoires et des fichiers
utiles pour le fonctionnement de FPAC seront créés dans <span
 style="font-weight: bold; font-style: italic;">/usr/local/var/ax25/</span>
et dans <span style="font-weight: bold; font-style: italic;">/usr/local/etc/ax25</span>.<br>
    </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><a
 href="http://f6bvp.free.fr/logiciels/rose-fpac/FPAC-HOWTO-FR/">FPAC
HOWTO</a> explique comment modifier les fichiers de configuration selon
votre
installation. </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">J'ai cependant écrit un exemple de
fichier de configuration <b><i>fpac.conf</i></b>&nbsp; qui
fonctionnera avec une station FPAC reliée à Internet.</p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><a
 href="http://rose.fpac.free.fr/MINI-HOWTO-FR/fpac.conf">Vous pouvez le
télécharger à partir d'ici</a>.<br>
    </p>
  </li>
</ul>
<pre>#<br># Fichier de configuration pour le nodal FPAC<br>#<br># Ce fichier est /usr/local/etc/ax25/fpac.conf<br>#<br># Informations sur le nodal<br>#<br>L2call    = F6BVP-10<br>L3call    = F6BVP-11<br>Trcall    = F6BVP-15<br>DNIC      = 2080<br>Address   = 175502<br>Coverage  =<br>InetPort  = 10093<br>InetAddr  = 44.151.75.15<br>Password  = abcdefghi<br>City      = PARIS-17<br>locator   = JN18DV<br>UserPort  = *<br>DefPort   = 0<br>#<br># Commandes aditionnelles<br>#<br>Command<br>	HRD       = /usr/local/sbin/mheard -d m<br>	BBs       = connect f6bvp-1 2080175520<br>	CLuster   = /usr/bin/telnet f6bvp 9000<br>	CLSpider  = /usr/bin/telnet bernard 7300 <br>	CONVers   = /usr/bin/telnet f4bwt.no-ip.org 3600<br>	STHeure   = /bin/cat /usr/local/var/ax25/fpac/fpacstat.dat<br>	STJour    = /bin/cat /usr/local/var/ax25/fpac/fpacstat.day<br>#     Telnet =<br>	IPLinks   = /bin/netstat --ip<br>	IPRoutes  = /bin/netstat -nr<br>	ROse      = /bin/cat /proc/net/rose<br>	RS_NEigh  = /bin/cat /proc/net/rose_neigh<br>	RS_NOdes  = /bin/cat /proc/net/rose_nodes  <br>	RS_Routes = /bin/cat /proc/net/rose_routes<br>	NR_netrom = /bin/cat /proc/net/nr<br>	NR_NEigh  = /bin/cat /proc/net/nr_neigh<br>	NR_NOdes  = /bin/cat /proc/net/nr_nodes<br>	MANuals   = /usr/bin/man %1<br>	TRace     = connect f6bvp-15 2080175502<br>	KCK       = connect f5kck-10<br>	KBW       = connect f5kbw-8 2080833501<br>	USA       = connect kd4yal-8 3100727489<br>End<br><br># La commande Bbs connectera l'utilisateur au BBS sur la meme machine<br># ou un nodal distant via la couche rose<br># idem pour la commande CLu qui connectera l'utilisateur au serveur de spots DX<br># La commande STat affichera les statistiques de connexion<br># La commande vide telnet ne fera rien<br><br># Commandes reservees au Sysop<br>#<br>Sysop<br>     DIsk   = /bin/df -k<br>     SYSop  = /usr/local/sbin/fpacshell<br>     YGET   = /usr/local/sbin/yapp -u /usr/local/etc/ax25/%1<br>     YPUT   = /usr/local/sbin/yapp -d /usr/local/etc/ax25/%1<br>     RM     = /bin/rm /usr/local/etc/ax25/%1<br>     LS     = /bin/ls -l /usr/local/etc/ax25/%1<br>     CP     = /bin/cp /usr/local/etc/ax25/%1 /usr/local/etc/ax25/%2<br>     CAT    = /bin/cat /usr/local/etc/ax25/%1<br>     MV     = /bin/mv /usr/local/etc/ax25/%1 /usr/local/etc/ax25/%2<br>     REBoot = /sbin/reboot<br>     WEdit  = /usr/local/sbin/wpedit %*<br>End<br>#<br>#<br># Port specifique vers une adresss<br>#<br># on donne au port d'acces utilisateur VHF l'adresse 175602<br>#<br># AddPort = VHF<br>#     Address = 175602<br>#     Port = 4<br># End<br><br># L'utilisateur qui accede au port UHF a l'adresse 175502<br>#       AddPort = UHF<br>#       Address = 175502<br>#       Port = 1<br># End<br><br># Port UHF 9600 via carte SCC4 et T7F (experimental)<br>#       AddPort = UHF-9600<br>#       Address = 175402<br>#       Port = 4 <br># End<br><br>#<br># List des utilisateurs predefinis (pour specifier un port non par defaut)<br># La commande USER etait utilisee pour envoyer des trames via le niveau reseau rose.<br># C'etait quand Kissnetd servait a creer un reseau interne<br># pour relier des applications entre elles. Mais maintenant, ax25d, xfbb,<br># ou DxNet sont capables d'ecouter les connexions rose, et peuvent donc se connecter<br># directement par le port rose0 en initiant une commande de niveau L3.<br>#  User = BBS<br>#       Path = F6KDS-1<br>#       port =<br>#  End<br><br>#<br># Liste des alias pour se connecter facilement a certaines adresses<br>#<br><br> Alias = F6BVP-3<br>    Path = F6BVP-3,175520<br> End<br><br>#    Alias = F6BVP-4<br>#    Path = F6KDS-1,194501<br># End<br><br>#<br># Liste des nodaux adjacents<br>#<br># NoWP = 1 signifie pas de page blanche (WP)<br># car FPAC sous DOS ne savait pas gerer les pages blanches (WP)<br><br># Node = F6ABJ<br>#   Path     = F6ABJ-11<br>#   DNIC     = 2080<br>#   Address  = 175501<br>#   Port     = 0 <br>#   NoWP     = 1<br>#End<br><br>Node = LAN522<br>    Path    = F6BVP-5<br>    DNIC    = 2080<br>    Address = 175522<br>    Port    = 0<br>    NoWP    = 0<br>End<br><br>Node = VK2TV<br>    Path    = VK2TV-2<br>    DNIC    = 5050<br>    Address = 656200<br>    Port    = 0<br>    NoWP    = 0<br>End<br><br>Node = KP4DJT<br>  Path  = KP4DJT-9<br>  DNIC  = 3100<br>  Address = 813626<br>  Port  = 0<br>  NoWp  = 0<br>End<br><br>Node = K4GBB<br>   Path = K4GBB-9<br>   DNIC = 3100<br>   Address = 352726<br>   Port = 0<br>   NoWp = 0<br>End <br><br>Node = MVP<br>   Path = F1MVP-5<br>   DNIC = 2080<br>   Address = 886801<br>   Port = 0<br>   NoWp = 0<br>End<br><br>Node = YAL<br>    Path = KD4YAL-9<br>    DNIC = 3100<br>    Address = 727489<br>    Port = 0<br>    NoWp = 0<br>End<br><br>Node = F5KBW<br>   Path = F5KBW-9<br>   DNIC = 2080<br>   Address = 833501<br>   Port = 0<br>   NoWp = 0<br>End<br><br>Node = F4BWT<br>     Path = F4BWT-11<br>     DNIC = 2080<br>     Address = 428501<br>     Port = 0<br>     NoWp = 0<br>End<br><br>Node = LAN520<br>   Path = F6BVP-9<br>   DNIC = 2080<br>   Address = 175520<br>   Port = 0<br>   NoWp = 0<br>End<br><br>Node = LAN521<br>  Path = F6BVP-7<br>  DNIC = 2080<br>  Address = 175521<br>  Port = 0<br>  NoWp = 0<br>End<br><br>Node = GGY<br>   Path = F6GGY-9<br>   DNIC = 2080<br>   Address = 847501<br>   Port = 0<br>   NoWP = 0<br>End<br><br>Node = F3KT<br>   Path = F3KT-11<br>   DNIC = 2080<br>   Address = 444501<br>   Port = 0<br>   NoWp = 0<br>End<br><br>#<br># Routes vers les nodaux adjacents<br># et vers les adresses accessibles via les nodaux adjacents <br># Le DNIC comporte 4 chiffres qui specifient le pays.<br># L'adresse comporte de 1 a 6 chiffres, en utilisant la hierarchie<br>#<br><br>Routes<br>DNIC    = 0<br>2080    = F4BWT<br>2080    = F3KT<br>2080    = F5KBW<br>3100    = KP4DJT<br>3100    = K4GBB<br>3100    = YAL<br>5050    = YAL<br>5050    = KP4DJT<br>5050    = VK2TV<br>7120    = YAL<br>7120    = K4GBB<br>7120    = KP4DJT<br>#<br>DNIC    = 2080<br># 175505 = KVP<br> 175520 = LAN521<br> 175520 = LAN522<br> 175520 = LAN520<br> 175521 = LAN521<br> 175522 = LAN522<br>    178 = LAN520<br>    195 = LAN520<br>    444 = MVP<br>    444 = GGY<br>    444 = F3KT<br> 444501 = F3KT<br>      7 = F5KBW<br>      8 = F5KBW<br>   8335 = F5KBW<br> 833501 = F5KBW<br>    847 = F4BWT<br>    847 = GGY<br> 847501 = GGY<br>    428 = F4BWT<br> 428501 = F4BWT <br> 886801 = MVP<br>      9 = F5KBW<br>DNIC    = 3100<br>    772 = VK2TV<br>    772 = K4GBB<br>    772 = YAL<br> 352726 = K4GBB<br> 727489 = YAL<br>End<br></pre>
<ul>
  <li><span style="font-weight: bold;">La table ROSE résultante est :</span><br>
  </li>
</ul>
Routes:<br>
<pre>DNIC Address Primary   Route  ! 1st Alt   Route  ! 2nd Alt   Route  !<br>7120,......  KP4DJT-9  Closed ! K4GBB-9   Opened ! KD4YAL-9  Opened !<br>5050,......  VK2TV-2   Opened ! KP4DJT-9  Closed ! KD4YAL-9  Opened !<br>3100,......  KD4YAL-9  Opened ! K4GBB-9   Opened ! KP4DJT-9  Closed !<br>2080,......  F5KBW-9   Closed ! F3KT-11   Opened ! F4BWT-11  Opened !<br>2080,9.....  F5KBW-9   Closed !<br>2080,8.....  F5KBW-9   Closed !<br>2080,7.....  F5KBW-9   Closed !<br>3100,772...  KD4YAL-9  Opened ! K4GBB-9   Opened ! VK2TV-2   Opened !<br>2080,428...  F4BWT-11  Opened !<br>2080,847...  F6GGY-9   Closed ! F4BWT-11  Opened !<br>2080,444...  F3KT-11   Opened ! F6GGY-9   Closed ! F1MVP-5   Closed !<br>2080,195...  F6BVP-9   Opened !<br>2080,178...  F6BVP-9   Opened !<br>2080,8335..  F5KBW-9   Closed !<br>3100,727489  KD4YAL-9  Opened !<br>3100,352726  K4GBB-9   Opened !<br>2080,886801  F1MVP-5   Closed !<br>2080,428501  F4BWT-11  Opened !<br>2080,847501  F6GGY-9   Closed !<br>2080,833501  F5KBW-9   Closed !<br>2080,444501  F3KT-11   Opened !<br>2080,175522  F6BVP-5   Closed !<br>2080,175521  F6BVP-7   Closed !<br>2080,175520  F6BVP-9   Opened ! F6BVP-5   Closed ! F6BVP-7   Closed !</pre>
<ul>
  <li>Avec cette table, les paquets seront dirigés via la première
route ouverte, partant de celle ayant l'adresse de destination. La
table est parcourue du bas vers le haut et de gauche à droite (route
primaire, secondaire ou tertiaire).</li>
</ul>
<ul>
  <li>Lorsque tous les noeuds FPAC seront sous le nouveau noyau Linux
2.6.24 patché, le routage des paquets AX25 se fera de manière
transparente de la station appelante vers la destinationion, avec
seulement l'indicatif du destinataire si son adresse ROSE est déja
incluse dans l'annuaire des Pages Blanches (WP).</li>
</ul>
<ul>
  <li>Vous devrez éditez le fichier exemple précédent pour votre propre
installation. Editez les lignes <span
 style="font-style: italic; font-weight: bold;">L2,
L3 </span>et<span style="font-style: italic;"></span><span
 style="font-style: italic; font-weight: bold;"> Trcall, DNIC, Address,
InetAddr, Password, City, locator</span>. Ne changez pas <span
 style="font-style: italic; font-weight: bold;">InetPort 10093</span>
le port standard
FPAC. Editez <span style="font-style: italic; font-weight: bold;">callsign</span>
et <span style="font-style: italic; font-weight: bold;">address</span>
du chapitre <span style="font-weight: bold;">Command</span>.<span
 style="font-weight: bold;"> </span>Editez les nodes adjacents. Gardez
le Port 0 pour l'acces Internet. Chaque <span
 style="font-style: italic; font-weight: bold;">callsign</span> du <span
 style="font-weight: bold;">path </span>doit avoir une <span
 style="font-weight: bold;">route</span> définie dans <span
 style="font-weight: bold;">/usr/local/etc/ax25/ax25ipd.conf</span>.<br>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Notez que plusieurs stations nodales
adjacentes peuvent partager la même adresse de destination. Cette
intéressante possibilité est utile en cas de non fonctionnement d'une
liaison. FPAC demandera à ROSE de rechercher un autre nodal adjacent
capable de fournir une route vers la même destination.</p>
  </li>
</ul>
<ul>
  <li><a
 href="http://f6bvp.free.fr/logiciels/rose-fpac/VK2TV_FPAC_xfbb_AX25_node_config_install.txt">Vous
trouverez ici</a> un <span style="font-weight: bold;">exemple de
configuration très complet pour FPAC</span> du à Ray VK2TV, incluant la
gestion d'une carte interface série SCC.</li>
</ul>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Il est possible que vous préfériez
obtenir le paquetage des programmes de FPAC 3.27 déja compilés. J'ai
réalisé une archive des fichiers compilés pour le noyau 2.6. Cependant,
en raison des dépendances avec la version de la librairie C
(/lib/lic.so.6 --&gt; libc-2.3.5.so) il ne fonctionnera probablement
pas avec la librairie C installée avec un noyau 2.4 ayant un numéro de
version différent de 2.3.5. A vous de vérifier. </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Téléchargez l'archive sur&nbsp; <a
 href="http://f6bvp.free.fr/logiciels/rose-fpac/fpac327-9_i386.tgz">fpac327-9_i386.tgz</a></p>
  </li>
  <li>
    <p style="margin-bottom: 0.2in;">Décompactez l'archive :</p>
    <p style="margin-bottom: 0in;"><b>tar &nbsp; xvfP &nbsp;
fpac327-9_i386.tgz</b>
.&nbsp;<i><br>
    <br>
Note : le drapeau <span style="font-weight: bold;">P</span> est en
majuscules</i>.&nbsp; </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Des sous répertoires et des fichiers
utiles pour le fonctionnement de FPAC seront créés dans <span
 style="font-weight: bold; font-style: italic;">/usr/local/var/ax25/</span>
et dans <span style="font-weight: bold; font-style: italic;">/usr/local/etc/ax25</span>.
Les programmes exécutables
seront installés dans <b>/usr/local/sbin</b></p>
  </li>
</ul>
<p style="margin-bottom: 0in;"><br>
</p>
<hr>
<h2><a name="s9"></a>9. Scripts de lancement de l'AX25</h2>
<ul>
  <li>
    <p style="margin-bottom: 0in;"><font face="serif"><font size="3">De
nos jours il n'est pas rare d'avoir plus d'un ordinateur à domicile et
il partagent habituellement la connexion à Internet par un routeur qui
offre un portail d'accès à Internet pour le réseau local. Pour faire
tourner nos applications FPAC il n'est pas judicieux de configurer les
adresses du réseau local par DHCP. Il vaut mieux donner des adresses IP
fixes. C'est pourquoi je vais supposer que l'adresse de votre réseau
local est <b>192.168.0.0</b> et que l'adresse de la passerelle est <b>192.168.0.1</b>.</font></font></p>
  </li>
</ul>
<ul>
  <li>
    <p style="margin-bottom: 0.2in;"><font face="serif"><font size="3">Il
est nécessaire d'initialiser les interfaces et ports AX25 avant de
lancer FPAC. Pour cela un exemple de script exécutable est donné
ci-après.Vous
pouvez le copier-coller dans le fichier <b><i>/etc/rc.d/rc.ax25</i></b>
et lui donner les permissions d'exécution : </font></font> </p>
    <p><font face="serif"><b>chmod &nbsp; a+x &nbsp; /etc/rc.d/rc.ax25</b></font></p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font face="serif"><font size="3">L'adresse
IP du port Ethernet <span style="font-weight: bold;">eth0</span> (<span
 style="font-weight: bold;">192.168.0.200</span>) et de la passerelle (<span
 style="font-weight: bold;">192.168.0.1</span>) ont été
choisies de manière arbitraire et vous devrez les éditer afin de
répondre à vos particularités locales. Vous devrez également éditer
l'adresse ampr.org du nodal (44.151.75.153) et l'indicatif (F6ZZZ).</font></font></p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font face="serif">Vous pouvez
également télécharger le script suivant <a
 href="http://rose.fpac.free.fr/MINI-HOWTO-FR/rc.ax25">depuis cette
adresse</a>.</font></p>
  </li>
</ul>
<p style="margin-bottom: 0in;"><br>
</p>
<p style="margin-left: 0.42in;"><font face="Courier New, monospace"><font
 size="2">#!/bin/sh<br>
#
/etc/rc.d/rc.ax25<br>
#<br>
# Cet exemple de script lancera
l'application AX25 FPAC sur un systeme Linux 2.6<br>
# de la
distribution Mandriva Linux 2006 au moment du démarrage avec
l'indicatif F6ZZZ.<br>
# rc.eth0 : initialise l'adresse de l'interface
Ethernet eth0 sur le reseau local<br>
# et une route vers Internet via
une passerelle<br>
# rc.tnc : attache le peripherique ax0 au pseudo
peripherique ptyq1<br>
# rc.axip : installe un tunnel entre les pseudo
tty ptyq1 et ttyq1<br>
# et lance le demon ax25ipd qui effectue
l'encapsulation des trames AX25 dans les trames IP<br>
# et route les
pacquets encapsules depuis ax0 vers l'adresse Internet rose FPAC<br>
#
rc.fpac : lance la suite de programmes FPAC et le demon mheardd<br>
#
rc.beacon : lance l'application listen sur la console virtuelle 2 a
l'ecoute du port 0<br>
# et indstalle une diffusion de balise sur le
port ax0<br>
#<br>
echo 15 &gt; /proc/sys/kernel/panic<br>
echo 1 &gt;
/proc/sys/net/ipv4/ip_forward<br>
#<br>
# arret du service reseau (
n'est plus necessaire)<br>
#service network stop<br>
# arret du serveur
samba qui diffuse vers les ports AX25<br>
#service smb
stop<br>
#<br>
#/etc/rc.d/rc.eth0<br>
#<br>
#/sbin/ifconfig eth0
192.168.0.200<br>
#/sbin/route add -net 192.168.0.0 netmask
255.255.255.0 eth0<br>
#/sbin/ifconfig lo 127.0.0.1<br>
#/sbin/route add
-net 127.0.0.0 netmask 255.0.0.0 lo<br>
#/sbin/route add default gw
192.168.0.1<br>
#<br>
# /etc/rc.d/rc.tnc<br>
#<br>
/usr/local/sbin/kissattach
/dev/ptyq1 0 44.151.75.153<br>
/bin/sleep
2<br>
#<br>
#/etc/rc.d/rc.axip<br>
#<br>
/bin/date &gt;
/var/log/ax25ipd.log<br>
/usr/local/sbin/ax25ipd -l2 &gt;&gt;
/var/log/ax25ipd.log 2&gt;&amp;1<br>
#<br>
#/etc/rc.d/rc.fpac<br>
#<br>
/bin/date
&gt;
/var/log/fpac<br>
/usr/local/sbin/fpac.sh<br>
/usr/local/sbin/mheardd<br>
#<br>
#/etc/rc.d/rc.beacon<br>
#<br>
#/usr/local/bin/listen
-char &gt;&gt; /dev/tty2 &amp;<br>
/usr/local/sbin/beacon -c F6ZZZ -d
QST -t 10 0 'Nodal Rose FPAC F6ZZZ'<br>
#<br>
#</font></font></p>
<ul>
  <li>
    <p style="margin-bottom: 0.2in;"><font face="Times New Roman, serif">Vous
pouvez lancer automatiquement au moment du boute tout le système AX25
si le script <i>/<b>etc/rc.d/rc.ax25</b></i> est appelé par <i>/<b>etc/rc.d/rc.local</b></i>.
Voici un exemple de </font><a
 href="http://rose.fpac.free.fr/MINI-HOWTO-FR/rc.local"><i><font
 face="Times New Roman, serif">/<b>etc/rc.d/rc.local</b></font></i></a>&nbsp;
    <font face="Times New Roman, serif">qui initialisera l'AX25 et le
node FPAC à chaque démarrage de l'ordinateur.</font></p>
  </li>
</ul>
<p style="margin-left: 0.42in;"><font face="Courier New, monospace"><font
 size="2">#!/bin/sh<br>
#<br>
#
Ce script sera execute *apres* tous les autres scripts
d'initialisation.<br>
# Vous pouvez placer vos propres initialisations
ici si vous ne voulez pas<br>
# suivre le systeme complet
d'initialisation dans le style Sys V.<br>
#<br>
echo 60 &gt; /proc/sys/kernel/panic<br>
echo 60 &gt; /proc/sys/kernel/panic_on_oops<br>
echo 1&nbsp; &gt; /proc/sys/kernel/sysrq<br>
#<br>
/etc/rc.d/rc.ax25<br>
#<br>
touch
/var/lock/subsys/local<br>
#</font></font></p>
<ul>
  <li>
    <p style="margin-bottom: 0in;"><font face="Times New Roman, serif"><font
 size="3">Si vous préferez ne pas lancer l'AX25 automatiquement, éditez
    <b><i>rc.local</i></b>&nbsp; et mettez un <b>#</b> au début de la
ligne qui commence par&nbsp; <b><i>/etc/rc.d/rc/ax25</i></b>. Vous
lancerez l'AX25 avec la commande <b>/etc/rc.d/rc.ax25</b></font></font></p>
  </li>
  <li>
    <p style="margin-bottom: 0.2in;"><font face="Times New Roman, serif"><font
 size="3">Si vous aimez lancer une tâche sans taper trop de caractères
vous pouvez créer un raccourci pour lancer l'AX25 à partir de la
commande <span style="font-weight: bold;">ax25</span> : </font></font>
    </p>
  </li>
</ul>
<p style="margin-left: 0.42in;"><big><font face="Times New Roman, serif"><b><font
 size="2"><big>cd
/usr/local/bin</big></font></b><br>
<b><font size="2"><big>ln &nbsp; -s&nbsp;&nbsp;
/etc/rc.d/rc.ax25&nbsp;&nbsp;
ax25</big></font></b></font></big></p>
<ul>
  <li>
    <p style="margin-bottom: 0in;"><font face="Times New Roman, serif"><font
 size="3">Vous pouvez maintenant entrer la commande <b>ax25</b> pour
initialiser l'application FPAC.</font></font></p>
  </li>
  <li>
    <p><font face="Times New Roman, serif"><font size="3">Vous pouvez
de la même manière créer un raccourci avec le nom symbolique <b>fpac</b>
qui lancera <b>fpacnode</b> à la demande depuis un terminal console. </font></font>
    </p>
  </li>
</ul>
<hr>
<h2><a name="s101"></a>10.1 Configurer un routeur</h2>
<p><em>Si votre ordinateur Linux est directement connecté à
votre modem ADSL sans routeur de réseau local, les
instructions suivantes s'appliquent à la configuration de
votre boîtier modem ADSL.</em></p>
<p>Un routeur n'effectue pas seulement les fonctions de base de
routage pour lequel il est conçu, il comporte en outre une
fonction de filtrage afin de protéger votre ordinateur ou
votre réseau local contre les tentatives d'intrusion. La
conséquence c'est que par défaut le trafic qui traverse
votre routeur est filtré dans les deux directions. Les paquets
IP allant du réseau local vers Internet ou dans le sens opposé
sont acheminés uniquement si vous en donnez la permission.
Vous avez déja certainement pris les dispositions pour que le
trafic Internet habituel passe par votre routeur. Cependant, les
applications AX25 utilisent des numéros de ports spécifiques
qu'ils faut ouvrir dans les deux sens en configurant le routeur. Les
ports jusqu'au numéro 1024 sont réservés aux
applications standards et ne doivent pas être utilisés.
Regardez dans le fichier <b><i>/etc/services</i></b>. Le&nbsp; port
habituellement utilisé pour FPAC dans les deux directions est
le numéro 10093 avec les protocoles UDP et TCP. Le script
<b>rc.init.script</b><span style=""> décrit
au chapitre 6 effectue la déclaration du <span
 style="font-weight: bold;">port 10093</span> (protocoles TCP/UDP) pour
votre
système Linux.</span><b> </b>Veuillez lire la documentation de
votre routeur ADSL pour le déclarer afin qu'il laisse passer
le trafic sur ce port. De même pour les ports utilisés par les autres
applications : BBS F6FBB (TCP <span style="font-weight: bold;">6300</span>),
DxNet (UDP <span style="font-weight: bold;">9000</span>).<br>
</p>
<p><br>
<br>
</p>
<hr>
<h2><a name="s102"></a>10.2 Interfacer FPAC avec des logiciels
applicatifs</h2>
<p><em>Plusieurs applications qui tournent sur la même machine
Linux peuvent écouter un port local et s'interfacer facilement
avec le nodal fpac.</em></p>
<p>La <span style="font-weight: bold;">BBS F6FBB</span> et <span
 style="font-weight: bold;">DxNet</span>
peuvent communiquer avec <span style="font-weight: bold;">FPAC</span>
sans programme
supplémentaire. <span style="font-weight: bold;">NetRomd</span>
nécessite <span style="font-weight: bold;">ax25d</span> pour
s'interfacer avec FPAC.</p>
<p>Exécuter le script suivant au lancement de l'AX25. Il
créera un périphérique NetRom qui sera utilisé
par les applications suivantes et lancera le démon NetRomd.</p>
<p style="margin-bottom: 0.2in;"><font face="Courier New, monospace"><font
 size="2">#!/bin/sh<br>
#
/etc/rc.d/rc.netrom<br>
#<br>
#echo "NETROM"<br>
&nbsp;
/sbin/modprobe netrom<br>
#<br>
killall -KILL netromd<br>
ifconfig nr1
down<br>
ifconfig nr0 down<br>
ifconfig nr2 down<br>
ifconfig nr3 down<br>
#
creating NET/ROM devices (please edit your own ampr.org network
address)<br>
/usr/local/sbin/nrattach -i 44.151.75.15 -m 256
netnod<br>
/usr/local/sbin/nrattach -i 44.151.75.15 -m 256
netbbs<br>
/usr/local/sbin/nrattach -i 44.151.75.15 -m 256 netclu<br>
#
adjacent NET/ROM nodes creation via port 4=ax4 (ax25 over
ip)<br>
/usr/local/sbin/nrparms -nodes k4gbb-14&nbsp; + CIT03 120 6 4
k4gbb-14<br>
/usr/local/sbin/nrparms -nodes kp4djt-14 + DJT14 120 6 4
kp4djt-14<br>
/usr/local/sbin/nrparms -nodes vk2tv-14&nbsp; + KEMPC
120 6 4 vk2tv-14<br>
/usr/local/sbin/nrparms -nodes vk2vy-2&nbsp;&nbsp;
+ VYNODE 120 6 4 vk2vy-2<br>
# start ax25d daemon to link NetRom and
FPAC node<br>
/usr/local/sbin/ax25d<br>
# Broadcast
NET/ROM<br>
/usr/local/sbin/netromd -lid -t 10<br>
</font></font><font face="Courier New, monospace"><font size="2">#
Setup Netrom subnetmask
<br>
/sbin/ifconfig nr0 netmask 255.255.255.255
<br>
/sbin/ifconfig nr1 netmask 255.255.255.255
<br>
/sbin/ifconfig nr2 netmask 255.255.255.255
<br>
/sbin/ifconfig nr3 netmask 255.255.255.255</font></font><font
 face="Courier New, monospace"><font size="2"><br>
#</font></font><font face="Courier New, monospace"><font size="2">
<br>
</font></font></p>
<p style="margin-bottom: 0.2in;"><font face="Courier New, monospace"><font
 size="2">Pour approfondir vos connaissances, vous pouvez consulter les
manuels de nrattach et de nrparms.<br>
</font></font></p>
<hr style="width: 100%; height: 2px;">
<p style="margin-bottom: 0.5cm;"><br>
<font style="font-size: 16pt;" size="4"><b>10.2.1.
Interfacer FPAC avec une BBS</b></font></p>
<p style="margin-bottom: 0.51cm;"><em>Votre système Linux peut héberger
une BBS F6FBB qui sera reliée en interne au routeur ROSE FPAC et
interfacé via NetRom. Ceci donne un acces mondial aux stations AX25 par
packet radio ou Internet. <br>
</em></p>
<p style="margin-bottom: 0.51cm;"><em><span style="font-weight: bold;">Note
importante :
les distribution Linux récentes fournissent souvent un noyau Linux
compilé pour une architecture multiprocesseur (SMP). Pour le
moment&nbsp; la BBS F6FBB ne fonctionne pas en SMP. Il faut désactiver
ce mode en éditant le fichier de chargement /boot/grub/menu.lst<br>
</span><br>
Ajouter la commande <span style="font-weight: bold;">nosmp</span>
comme dans l'exemple suivant :<br>
</em></p>
<p style="margin-bottom: 0.51cm;"><em>title 2.6.19.1<br>
kernel (hd0,0)/boot/vmlinuz-2.6.19.1 BOOT_IMAGE=2.6.19.1 root=/dev/hda1
splash=silent vga=788 <span style="font-weight: bold;">nosmp</span>
initrd (hd0,0)/boot/initrd-2.6.19.1.img<br>
</em></p>
<span style="font-weight: bold;">Deuxième note : FBB Linux utilise une
table de CRC calculée pour un processeur 32 bits. Les PC modernes ont
souvent des processeurs 64 bits. Le CRC calculé sera donc différent de
celui de la table. Il ne faut donc pas utiliser la fonction d'export de
courrier compressé. Pour cela ajouter le paramètre N1 dans le fichier
d'export comme ceci :<br>
<br>
</span><span style="font-style: italic;">A F6BVP</span><br
 style="font-style: italic;">
<span style="font-style: italic;">P A</span><br
 style="font-style: italic;">
<span style="font-style: italic; font-weight: bold;">N 1</span><br
 style="font-style: italic;">
<span style="font-style: italic;">C C F6BVP 2080175520</span><br
 style="font-style: italic;">
<span style="font-style: italic;">...</span><span
 style="font-weight: bold;"><br>
<br>
Troisième note : il existe des problèmes d'export de courrier avec les
noyaux Linux récents via le réseau FPAC.&nbsp; </span><span
 style="font-weight: bold;"><br>
<br>
La version de BBS FBB recommandée est la
7.04.p2 ou mieux 7.04r6.1<br>
</span><br>
Voyons maintenant les différents fichiers de configuration pour la BBS
sous Linux.<br>
<br>
Voici un extrait du fichier de
description des ports de la BBS /<b>usr/local/etc/ax25/port.sys</b>
<p style="margin-bottom: 0.2in;"> </p>
<p><font face="Courier New, Courier, monospace"><font size="2">#Com
Interface Adress (Hex)&nbsp;&nbsp; Baud<br>
&nbsp;&nbsp; 1&nbsp;&nbsp;
9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
*****&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
115200<br>
&nbsp;&nbsp; 2&nbsp;&nbsp;
9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
189C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br>
#TNC NbCh
Com MultCh Pacln Maxfr NbFwd MxBloc M/P-Fwd Mode&nbsp; Freq<br>
&nbsp;&nbsp;
0&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;
0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;
0&nbsp;&nbsp;&nbsp;&nbsp;
0&nbsp;&nbsp;&nbsp; 00/01&nbsp; ----&nbsp; File-fwd<br>
&nbsp;&nbsp;
1&nbsp; 20&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp; rose0&nbsp;&nbsp;
250&nbsp;&nbsp;
2&nbsp;&nbsp;&nbsp;&nbsp; 6&nbsp;&nbsp;&nbsp;&nbsp;
10&nbsp;&nbsp;
15/10&nbsp; XULWY Rose0</font></font><br>
&nbsp;&nbsp; &nbsp; <font size="2"><font
 face="Courier New, Courier, monospace">2&nbsp;&nbsp;
4&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp; 3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
250&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;
10&nbsp;&nbsp; 08/10&nbsp; XULWY UHF<br>
&nbsp;&nbsp;
3&nbsp; 10&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;
0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
250&nbsp;&nbsp; 7&nbsp;&nbsp;&nbsp;&nbsp; 8&nbsp;&nbsp;&nbsp;&nbsp;
10&nbsp;&nbsp; 15/15&nbsp; TUWY&nbsp; Telnet<br>
&nbsp;&nbsp;
4&nbsp;&nbsp; 4&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp; netbbs&nbsp;
250&nbsp;&nbsp;
7&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;
10&nbsp;&nbsp;
15/15&nbsp; XULWY NetRom<br>
#</font></font></p>
<p>MutCh correspond au nom du pseudo TTY créé par kissattach par
exemple et référencé dans /etc/axports. <br>
</p>
<p>Un TNC est branché au tty 3 AX25 défini dans le
fichier /etc/ax25/axports.</p>
<p>Le port Telnet 189C correspond à 6300 en décimal. La
commande est : telnet &lt;hote&gt; 6300 pour accéder à
la BBS.</p>
<p>Le pseudo <b>netbbs</b> interface la BBS avec NetRom (voir plus
haut dans rc.netrom). <br>
</p>
<p>Le pseudo <span style="font-weight: bold;">rose0</span> correspond
au pseudo d'interface avec le réseau ROSE géré par FPAC.<br>
</p>
<p>A propos, avec le noyau Linux 2.6 il faut utiliser une version
récente des
sources de la <span style="font-weight: bold;">BBS F6FBB</span> pour
que l'application fonctionne.</p>
<p style="margin-bottom: 0in;">Vous pouvez télécharger l'archive des
fichiers sources <a href="ftp://f6bvp.org:32221/logiciels/BBS-f6fbb/">les
plus récents via
FTP</a><br>
</p>
<p style="margin-bottom: 0in;">Ou bien <a
 href="http://f6bvp.free.fr/logiciels/BBS-f6fbb/">télécharger
l'archive via HTTP</a> (par exemple <span style="font-weight: bold;">xd704r6.1-src.tar.bz2</span>)
<br>
</p>
<p style="margin-bottom: 0in; font-weight: bold;"><a
 style="font-weight: normal;"
 href="http://f6bvp.free.fr/logiciels/BBS-f6fbb/fbbsrc.704j-dm3tt.tar.bz2">Il
existe une sous version FBB 7.04j&nbsp; préparée par DM3TT</a> <span
 style="font-weight: normal;">qui inclue une amélioration pour le
pilote du PTC-II en mode PACTOR sur le canal 31.</span> <span
 style="font-weight: normal;">Cette modification est prise en compte
dans les livraisons récentes de la BBS F</span><span
 style="font-weight: normal;"><span style="font-weight: bold;"></span>BB.</span><br>
</p>
<ul>
  <li><span style="font-weight: normal;">Déplacez le fichier archive
dans</span> <b>/usr/local/src/ax25</b> <span
 style="font-weight: normal;">puis</span> </li>
</ul>
<p style="margin-bottom: 0in; margin-left: 40px; font-weight: bold;"><b>cd&nbsp;
/usr/local/src/ax25</b><span style="font-weight: normal;"><br>
</span></p>
<ul>
  <li><span style="font-weight: normal;">Tapez ensuite les commandes :</span></li>
</ul>
<p style="margin-bottom: 0in; margin-left: 40px; font-weight: bold;"><b>tar&nbsp;
xf&nbsp;
xd704r6.1-src.tar.bz2</b><br>
cd &nbsp; fbbsrc.704r6.1<br>
cd&nbsp;&nbsp; src<br>
make<br>
make&nbsp; install<br>
</p>
<ul>
  <li>Pour compiler la version X11 des serveur et client vous devrez
d'abord installer trois libraries.</li>
</ul>
<div style="margin-left: 40px;"><span style="font-weight: bold;">urpmi
lesstif</span><br style="font-weight: bold;">
<span style="font-weight: bold;">urpmi lesstif-devel</span><br
 style="font-weight: bold;">
<span style="font-weight: bold;">urpmi libopenmotif</span><br>
</div>
<span style="font-weight: bold;"></span>
<br>
<div style="margin-left: 40px;">Entrez ensuite dans le sous répertoire
fbb X11 <span style="font-weight: bold; font-style: italic;">fbbsrc.704p/src/X11</span><br>
</div>
<div style="margin-left: 40px;"><br>
<span style="font-weight: bold;">cd X11</span> <br>
<span style="font-weight: bold;">make</span><br>
</div>
<ul>
  <li>Copiez les fichiers exécutables suivants dans <span
 style="font-weight: bold; font-style: italic;">/usr/local/sbin</span></li>
</ul>
<div style="margin-left: 40px;"><span style="font-weight: bold;">cp
xfbbX&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; /usr/local/sbin<br>
cp xfbbX_cl&nbsp;&nbsp;&nbsp; /usr/local/bin<br>
cp xfbb&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
/usr/local/sbin<br>
</span></div>
<ul>
  <li>vous pouvez lancer le serveur X11 fbb en arrière plan à partir
d'une Konsole :<br>
  </li>
</ul>
<div style="margin-left: 40px;"><span style="font-weight: bold;">xfbb
-a &amp;</span><br>
</div>
<ul>
  <li>ou lancer le démon xfbbd via le script rc.fbb (<span
 style="font-weight: bold;">/etc/rc.d/rc.fbb start</span>)</li>
  <li>et lancez le clien X11 fbb depuis une fenêtre Konsole :<br>
  </li>
</ul>
<div style="margin-left: 40px;"><span style="font-weight: bold;">xfbbX
&amp;</span><br>
</div>
&nbsp;
<br>
<p>Dernière option, le téléchargement du paquetage de programmes
exécutables binaires i386.<br>
Téléchargez l'archive <a
 href="http://f6bvp.free.fr/logiciels/BBS-f6fbb/xd704o_i386.tgz">xd704o_i386.tgz</a>
via http ou via FTP en cliquant sur ce lien&nbsp; <a
 href="ftp://f6bvp.org:32221/logiciels/BBS-f6fbb/xd704o_i386.tgz">xd704o_i386.tgz</a>.</p>
<ul>
  <li>
    <p style="margin-bottom: 0in;">Déplacez le fichier archive dans <b>/usr/local/src/ax25</b>
puis <b>cd&nbsp; /usr/local/src/ax25</b> </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Ensuite <b>tar&nbsp; xvfP&nbsp;
xd704o_i386.tgz &nbsp; &nbsp; </b>(<span style="font-style: italic;">notez
le </span><b style="font-style: italic;">P</b><span
 style="font-style: italic;"> majuscule</span>) </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Les programmes exécutables seront
installés dans <span style="font-weight: bold;">/usr/local/sbin</span>,
d'autres fichiers dans <span style="font-weight: bold;">/usr/local/etc/ax25/fbb/</span>
, <span style="font-weight: bold;">/usr/local/var/ax25/fbb/</span>&nbsp;
et
&nbsp; <span style="font-weight: bold;">/usr/lib/fbb/</span></p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><span style="font-weight: bold;"></span>Pour
démarrer l'application, tapez <span style="font-weight: bold;">fbb</span>
qui lancera le script <span style="font-weight: bold;">/usr/local/sbin/fbb</span>.
La première fois celui-ci procédera à
l'initialisation de la BBS en créant différents fichiers dont <span
 style="font-weight: bold;">/usr/local/etc/ax25/fbb.conf</span> et <span
 style="font-weight: bold;">/usr/local/etc/ax25/port.sys</span> s'il ne
préexistaient pas. Les fois suivantes il lancera <span
 style="font-weight: bold;">xfbbd</span> le programme démon de la BBS
en arrière plan.</p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Pour compléter le fichier de
configuration fbb.conf voici une <a
 href="http://rose.fpac.free.fr/MINI-HOWTO-FR/BBS-keywords.txt">documentation
supplémentaire</a> par Charlie K4GBB.<br>
    </p>
    <p>Pour se connecter localement, éditer l'<span
 style="font-weight: bold; font-style: italic;">INDICATIF</span> et le <span
 style="font-weight: bold; font-style: italic;">MOT DE PASSE</span> du <span
 style="font-weight: bold;">sysop</span> <span
 style="font-weight: bold; font-style: italic;"></span><span
 style="font-weight: bold; font-style: italic;"></span>dans le fichier <span
 style="font-weight: bold;">/etc/ax25/fbb/passwrd.sys</span> et lancer
le client <br>
    </p>
    <p><span style="font-weight: bold;">xfbbC -c -i <span
 style="font-style: italic;">INDICATIF</span>-w <span
 style="font-style: italic;">MOT DE PASSE</span></span></p>
  </li>
  <li>Finalement, <a
 href="http://f6bvp.free.fr/logiciels/BBS-f6fbb/html/">vous pourrez
trouver EN LIGNE une documentation complète</a> de la BBS FBB ou
télécharger ces fichiers :&nbsp; <a
 href="http://f6bvp.free.fr/logiciels/BBS-f6fbb/FBB7UT_G.DOC">FBB7UT.DOC</a>,
    <a href="http://f6bvp.free.fr/logiciels/BBS-f6fbb/fbb7ut_g.zip">fbb7ut_g.zip</a><br>
  </li>
</ul>
<ul>
</ul>
<br>
<br>
<hr style="width: 100%; height: 2px;">
<h2><font style="font-size: 16pt;" size="4">10.2.2. Interfacer FPAC
avec
une application DxCluster ou </font><font style="font-weight: bold;"><font
 style="font-size: 16pt;" size="4">DxSpider</font></font></h2>
<h2><font><font style="font-size: 16pt;" size="4">DxCluster</font></font></h2>
<em>Pour interfacer le DX cluster
DxNet avec FPAC et NetRom il faut déclarer les ports <b>rose0</b>
et <b>netclu</b> dans <b>dxnet.cfg</b></em>
<p style="margin-bottom: 0.2in;">Le fichier <b><i>system/dxnet.cfg</i></b>
sera comme suit :</p>
<p style="margin-bottom: 0.2in;"><font size="2"><font
 face="Courier New, monospace">set/node
+f8kgk-3 +f5mtz-3 +f5kbw-3 +f6cdd-3 +tu5ex-3 +kp4ig-5 <br>
set/call
f6bvp-2<br>
set/sys +F6BVP<br>
set/ssid +2<br>
<b>set/port 0 1 3 4 rose0
inet:9000 netclu</b><br>
set/tz +2</font></font><br>
<br>
Il sera
possible d'accéder au Dx cluster via les ports radio AX25 <b>0,
1, 3</b> et <b>4</b>, via les ports FPAC <b>rose0</b>, telnet <b>9000</b>
et NetRom <b>netclu</b>.<br>
</p>
<font style="font-weight: bold;"><font style="font-size: 16pt;" size="4">DxSpider</font></font>
<p style="margin-bottom: 0.51cm;"><em>Si vous voulez donner aux
utilisateurs de FPAC l'accès au DX cluster DxSpider (indicatif
F6BVP-2)&nbsp; vous pouvez utiliser le démon ax25d.<br>
</em></p>
<p style="margin-bottom: 0.51cm;"><em></em>Installez DxSpider selon sa
documentation. Suivez les exemples pour configurer l'accès par telnet
ou les ports radio. N'oubliez pas de renommer le fichier <span
 style="font-weight: bold;">startup.issue</span> en <span
 style="font-weight: bold;">startup</span> tout court après l'avoir
édité selon vos besoins. J'ai longtemps cherché pourquoi mon DxSpider
ne tournait pas correctement, avant de comprendre qu'il n'avait pas
trouvé le fichier <span style="font-weight: bold;">startup</span> et
ne s'en plaignait pas !<br>
</p>
Pour un accès via FPAC, voici le contenu à ajouter au fichier <b>/usr/local/etc/ax25/ax25d.conf</b><br>
<br>
# un port ROSE est déclaré entre { }<br>
{F6BVP-2 via rose0}<br>
NOCALL * * * * * * L<br>
default&nbsp; *
* * * * *&nbsp; -&nbsp;&nbsp; sysop&nbsp; /spider/src/client client %u
ax25<br>
#<br>
<br>
Remplacer <span style="font-weight: bold;">%u</span> par <span
 style="font-weight: bold;">%f</span> si vous voulez gérer le SSID des
utilisateursrs ou des nodes Dx connectés.<br>
Après avoir édité ce fichier vous devez relancer le démon <span
 style="font-weight: bold;">/usr/local/sbin/ax25d</span> <br>
Si le répertoire de Spider n'est pas /spider, alors changez le dans
l'exemple de fichier de configuration ci-dessus.<br>
<span style="font-weight: bold;">Note</span> : si vous lancez ax25d via
un script, lancez le <span style="font-weight: bold;">après </span>fpac
afin que l'interface <span style="font-weight: bold;">rose0</span>
soit en déja en place.<br>
Quand un utilisateur fera une demande de connnexion à F6BVP-2
via le réseau FPAC, il accédera directement au DX cluster.<br>
<br>
<hr style="width: 100%; height: 2px;">
<h2><font style="font-size: 16pt;" size="4">10.2.3. Interfacer FPAC
avec
NetRom</font></h2>
<p style="margin-bottom: 0.2in;"><em><em>Voici comment interfacer FPAC
avec le réseau NetRom</em>.</em></p>
<p style="margin-bottom: 0.2in;">Exemple de fichier <b>/usr/local/etc/ax25/nrports</b></p>
<p style="margin-bottom: 0.2in;"><font face="Courier New, monospace"><font
 size="2">#
/etc/ax25/nrports <br>
# <br>
# The format of this file is: <br>
# name
callsign alias paclen description <br>
# <br>
netnod&nbsp; F6BVP-14&nbsp;
BVPNOD&nbsp;&nbsp;&nbsp; 235&nbsp;&nbsp;&nbsp; F6BVP FPAC node
<br>
netbbs&nbsp; F6BVP-1&nbsp;&nbsp; BVPBBS&nbsp;&nbsp;&nbsp;
235&nbsp;&nbsp;&nbsp;
F6BVP BBS <br>
netclu&nbsp; F6BVP-2 &nbsp; BVPDX&nbsp;&nbsp;&nbsp;&nbsp;
235&nbsp;&nbsp;&nbsp; F6BVP Dx Cluster <br>
# </font></font>
</p>
<p style="margin-bottom: 0.2in;">Le contenu du fichier
<b style="font-weight: bold;">/usr/local/etc/ax25/ax25d.conf</b> sera <br>
<br>
#<br>
&lt;netrom&gt;<br>
parameters
1&nbsp;&nbsp; 10 * * * * *<br>
NOCALL * * * * * * L<br>
default&nbsp; *
* * * * * *&nbsp;&nbsp;&nbsp; root /usr/sbin/fpacnode fpacnode -q
%S<br>
#<br>
<br>
Ajouter la lettre <b>b</b> après le port UDP
qui décrit la route dans <b><i>/usr/local/etc/ax25ipd.conf</i></b>
pour
diffuser les routes NetRom.<br>
</p>
<hr style="width: 100%; height: 2px;">
<h2><font style="font-size: 16pt;" size="4">10.2.4. Autoriser l'accès à
FPAC
via Internet<br>
</font></h2>
<p style="margin-bottom: 0.2in;"><em><em>Voici comment configurer
l'accès à votre nodal FPAC
par Internet via une connexion TELNET ou SSH</em>.<br>
Note : ceci ne donnera pas la possibilité aux utilisateurs de rentrer
dans votre système Linux. L'utilisateur qui se connectera se retrouvera
sous fpacnode.<br>
</em></p>
Si vous ne l'avez pas encore fait il faut créer un utilisateur <b>fpacuser</b>
<br>
<br>
<span style="font-weight: bold;">adduser -m fpacuser</span><br>
<br>
Créer le mot de passe : <span style="font-weight: bold;">fpac</span>
pour l'utilisateur <span style="font-weight: bold;">fpacuser
</span><br>
<br>
# <span style="font-weight: bold;">passwd fpacuser</span><br>
nouveau UNIX mot de passe : <span style="font-weight: bold;">fpac</span><br>
retapez le nouveau UNIX mot de passe : <span style="font-weight: bold;">fpac</span><br>
<br>
Editer le fichier
<span style="font-weight: bold; font-style: italic;">/etc/group</span>
pour y ajouter à la
fin sur la ligne du groupe fpacuser l'utilisateur fpacuser et
le root. <br>
<br>
Utiliser l'éditeur
de votre choix, l'exemple est pour <span style="font-weight: bold;"><big>vi</big>
</span><br>
<br>
# <span style="font-weight: bold;">vi&nbsp; /etc/group</span> <br>
<br>
Utiliser les flèches
pour descendre à la dernière ligne
qui comporte <span style="font-weight: bold;">fpacuser:x:150: </span><br>
Le nombre peut être différent de 150.<br>
<br>
Taper sur la touche <big><span style="font-weight: bold;">i </span></big>pour
insérer ce qui suit :<br>
<br>
<span style="font-weight: bold;">fpacuser:x:150:fpacuser,root</span><br>
<br>
Taper sur la touche <span style="font-weight: bold;">ECHAP</span> puis
sur la touche<span style="font-weight: bold;"><big> :</big> </span>puis
entrer <span style="font-weight: bold;">wq</span> et touche
<span style="font-weight: bold;">Entrée</span><br>
<br>
Il faut maintenant
éditer le fichier des mots de passe des utilisateurs, pour changer le
nom du programme shell lancé lors d'une
connexion de l'utilisateur fpacuser.
<br>
<br>
<span style="font-weight: bold;">vi /etc/passwd</span><br>
<br>
Taper sur la touche <big style="font-weight: bold;">i</big>. <br>
<br>
Avec les flèches se placer sur la
dernière ligne qui comporte l'utilisateur fpacuser <br>
<br>
Remplacer <span style="font-weight: bold; font-style: italic;"></span>
<span style="font-weight: bold;">/bin/sh </span>ou<span
 style="font-weight: bold;"> /bin/bash</span> par <span
 style="font-weight: bold; font-style: italic;">/usr/local/sbin/fpacnode
</span><br>
<br>
Taper sur la touche <span style="font-weight: bold;">ECHAP</span> puis
sur la touche<big><span style="font-weight: bold;"> : </span></big>puis
entrer <span style="font-weight: bold;">wq</span> et touche <span
 style="font-weight: bold;">Entrée</span>.<br>
<br>
Les
utilisateurs
doivent pouvoir utiliser fpacnode :
<br>
<br>
<span style="font-weight: bold;">chmod&nbsp; 4775&nbsp;&nbsp;
/usr/local/sbin/fpacnode
</span><br>
<br>
Il faut aussi
modifier les droits d'écrire sur le fichier <br>
<br>
<span style="font-weight: bold;">chmod a+w
/usr/local/var/ax25/fpac/loggedin</span><br>
<br>
Vous pouvez maintenant vérifier que votre configuration
fonctionne bien
en vous connectant via telnet ou via ssh localement :
<br>
<br>
<span style="font-weight: bold;">telnet -l fpacuser localhost <br>
ssh -l fpacuser localhost </span><br style="font-weight: bold;">
<br style="font-weight: bold;">
puis entrez le mot
de passe
<span style="font-weight: bold; font-style: italic;">fpac</span> pour
accéder au noeud routeur FPAC.
<hr>
<h2><a name="s11"></a>11. Autres modes d'emploi HOWTO</h2>
<p>Il existe beaucoup de documentations sur des sujets proches. De
nombreux documents décrivent les réseaux sous Linux
d'une manière plus générale et je recommande
fortement la lecture de ces autres sources documentaires car ils
pourront vous aider dans vos efforts et vous apporter une vue plus
approfondie d'autres configurations possibles. </p>
<p>Ce sont : </p>
<p><a
 href="http://www.ibiblio.org/pub/Linux/docs/HOWTO/translations/fr/pdf/Kernel-HOWTO.pdf">le
mode d'emploi du noyau Linux</a></p>
<p><a
 href="http://www.ibiblio.org/pub/Linux/docs/HOWTO/translations/fr/text/AX25-HOWTO.txt">le
AX25-HOWTO</a>, </p>
<p><a href="http://www.pingouin-land.com/howto/HAM-HOWTO.html">le
Linux HAM-HOWTO</a>, </p>
<p><a
 href="http://www.root66.net/linux/HowtoEnFrancais/html/NET-3-HOWTO.htmlhttp://sunsite.unc.edu/LDP/HOWTO/NET-3-HOWTO.html">le
Linux NET-3-HOWTO</a>, </p>
<p><a href="http://sunsite.unc.edu/LDP/HOWTO/Ethernet-HOWTO.html">le
Ethernet-HOWTO</a>, </p>
<p>et : </p>
<p><a href="http://www.freenix.fr/unix/linux/HOWTO/Firewall-HOWTO.html">le
Firewall-HOWTO</a></p>
<p>Vous pourrez trouver des informations plus générales
sur Linux dans les différents <a
 href="http://www.freenix.fr/unix/linux/HOWTO/">Linux
HOWTO</a>.</p>
<hr>
<h2><a name="s12"></a>12. Trouver de l'aide </h2>
<p>Souvenez-vous que FPAC est un commutateur réseau. Votre
nodal doit donc se trouver connecté à au moins un autre
nodal FPAC et à des stations utilisateurs en paquet-radio pour
fonctionner. Plus grand sera le nombre de stations adjacentes reliées
à votre nodal, mieux votre réseau fonctionnera.</p>
<p>Vous devez contacter une ou plusieurs stations qui utilisent déja
un nodal FPAC pour obtenir de l'aide et éventuellement vous
interconnecter.</p>
<p>Lire les messages de la liste de diffusion paquet-radio Linux
francophone est pratiquement obligatoire. <br>
Pour cela <a href="http://fr.groups.yahoo.com/group/frpacket-linux/">rendez-vous
sur cette adresse</a>.<br>
Pour s'inscrire à cette liste
<a
 href="http://rose.fpac.free.fr/MINI-HOWTO-FR/frpacket-linux-subscribe@yahoogroupes.fr">envoyer
un message à cette adresse</a>.</p>
<p>Pour la liste internationale visitez <a
 href="http://mailman.f6fbb.org/pipermail/fpac/">les
archives FPAC</a>. </p>
<p>Vous pouvez vous inscrire à la liste internationale <a
 href="http://mailman.f6fbb.org/mailman/listinfo/fpac/">en
allant sur cette page</a>.</p>
<p>Vous pouvez demander une aide plus globale sur Linux et
radioamateur via la Linux Ham list (en anglais).<br>
Vous pouvez
d'abord consulter les archives <a
 href="http://he.fi/archive/linux-hams/">Linux-hams
archive</a>. Linux-hams est une <a
 href="http://marc.info/?l=linux-hams">liste de diffusion</a> où l'on
peut discuter (en anglais) du système d'exploitation Linux et son usage
radioamateur. Quiconque ayant un intérêt envers ces deux
sujets est encouragé à y souscrire. La discussion est
principalement centrée sur l'usage et le dévelopement
du code AX.25 dans le noyau Linux. Si vous voulez souscrire à
la Linux-hams mailing list et recevoir ses messages dans votre propre
boîte aux lettres, envoyez un message à
<a href="mailto:majordomo@vger.kernel.org">majordomo@vger.kernel.org</a>,
en mettant la ligne&nbsp;</p>
<p><code><b>subscribe linux-hams</b></code><br>
<br>
dans le corps de
votre message. </p>
<p>Vous pourrez également trouver utile de naviguer sur les
liens suivants :</p>
<p><a href="http://www.qsl.net/fpac/">FPAC International Home page</a></p>
<p>Un groupe FPAC très actif s'est développé en
Floride (USA), <a href="http://fcrosby.com/fadca/">le Florida Amateur
Digital Communication Association</a></p>
Les lecteurs intéréssés par le protocol ROSE et qui se débrouillent en
anglais peuvent consulter les références suivantes :&nbsp; <br>
- <a href="http://www.arrl.org/files/bbs/tcpip/use_rose.txt">User
Guide to ROSE X.25 Packet Networking</a>, Donald A. Rotolo, N2IRZ.<br>
- <a href="ftp://ftp.jtan.com/pub/packet/roseuser.doc">RATS Open
Systems Environment</a> (ROSE) <br>
<p>La version la plus récente de ce <span style="font-weight: bold;">MINI
MODE D'EMPLOI FPAC</span> se
trouve ici : <a href="http://rose.fpac.free.fr/MINI-HOWTO-FR/">http://rose.fpac.free.fr/MINI-HOWTO-FR/</a></p>
<p>J'apprécierais de recevoir tout rapport d'erreurs ou
remarques sur cette documentation. <br>
Veuillez contacter Bernard
F6BVP à l'adresse mentionnée dans le titre.</p>
<p>Joyeux paquet-radio en réseau !<br>
<br>
</p>
</body>
</html>
